{"version":3,"sources":["redux/reducers/authReducer.js","redux/reducers/chatReducer.js","redux/reducers/index.js","redux/types.js","config/store.js","config/history.js","config/api.js","redux/actions/authActions.js","components/RenderForm/RenderForm.jsx","components/LoginForm/LoginForm.jsx","components/SignupForm/SignupForm.jsx","components/Landing/Landing.jsx","pages/Home.jsx","icons/icons.jsx","components/IconButton/IconButton.jsx","components/MessageBubble/MessageBubble.jsx","components/MessagesDisplay/MessagesDisplay.jsx","utils/autoScroll.js","utils/formatTimestamp.js","components/MessageInput/MessageInput.jsx","socket.io/emitters.js","components/ChatroomHeading/ChatroomHeading.jsx","components/ChatroomDisplay/ChatroomDisplay.jsx","redux/actions/chatActions.js","pages/Chat.jsx","components/ProfileCard/ProfileCard.jsx","components/ConfirmationModal/ConfirmationModal.jsx","components/SidebarProfile/SidebarProfile.jsx","components/SidebarForm/SidebarForm.jsx","components/SidebarContextMenu/SidebarContextMenu.jsx","components/SidebarChatItem/SidebarChatItem.jsx","components/SidebarChats/SidebarChats.jsx","components/Sidebar/Sidebar.jsx","utils/mapSidebarIcons.js","App.jsx","index.js"],"names":["INITIAL_STATE","isLoggedIn","_id","token","currentChatroom","data","socket","combineReducers","auth","state","action","type","payload","chatrooms","name","_","mapKeys","chatroomName","messages","message","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","createBrowserHistory","axios","create","baseURL","headers","setChatroom","dispatch","getState","a","history","push","setSocket","reduxForm","props","onSubmit","handleSubmit","formValues","initialValues","handleForm","Object","keys","some","value","reset","updateValues","forEach","className","children","LoginForm","renderInput","input","label","placeholder","required","Field","component","SignupForm","connect","signup","defaultURL","api","post","response","error","code","alert","keyValue","username","localStorage","setItem","user","login","useState","activeForm","setActiveForm","handleSignup","handleLogin","io","updateCurrentForm","onClick","classNames","disabled","Home","profileIcon","width","height","viewBox","fill","xmlns","fillRule","d","chatsIcon","plusIcon","pencilIcon","threeDotIcon","IconButton","icon","activeIcon","MessageBubble","messageKey","timestamp","author","key","messageList","useRef","useEffect","newMessage","current","lastElementChild","newMessageStyles","getComputedStyle","newMessageMargin","parseInt","marginBottom","newMessageHeight","offsetHeight","visibleHeight","scrollHeight","scrollTop","autoscroll","length","ref","map","createdAt","moment","format","userId","MessageInput","onChange","joinChatroomEmitter","newChatroomName","oldChatroomName","userName","emit","ChatroomHeading","setMessage","displayChatroomContent","e","messageData","preventDefault","target","Spinner","animation","role","displayChatrooms","mappedChatrooms","chat","closeChatroom","omit","createChatroom","chatroom","renderNewMessage","renderMessages","on","fetchMessagesEmitter","ProfileCard","updateUser","logout","setModalDisplay","editing","setEditing","renderSubmitButton","ListGroup","Item","meta","touched","initial","renderError","Card","Img","variant","src","avatar","Body","pick","Footer","ConfirmationModal","modalConfig","modalDisplay","fnHandler","Modal","show","onHide","ModalHeader","closeButton","ModalTitle","title","ModalBody","ModalFooter","btnStyle","btnText","Authorization","removeItem","patch","deleteUser","userDeleted","profileDisplay","SidebarForm","errorStyle","newRoomName","SidebarContextMenu","handleClose","handleLeave","displayDelete","chatroomId","CustomToggle","React","forwardRef","href","toggleDeleteCTA","Dropdown","Divider","Toggle","as","id","Menu","SidebarChatItem","handleClick","to","pathname","createdBy","setNewRoomName","chatDisplay","renderChatroomList","Sidebar","setActiveIcon","renderSidebarContent","icons","setCurrentIcon","mapSidebarIcons","currentTarget","checkAuth","getItem","get","path","exact","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.1fcc5164.chunk.js","sourcesContent":["import {\r\n  CHECK_AUTH,\r\n  LOG_IN,\r\n  LOG_OUT,\r\n  UPDATE_USER,\r\n  SET_CHATROOM,\r\n  SET_SOCKET,\r\n} from \"../types\";\r\nimport { log } from \"../../utils/log\";\r\n\r\n// Do not modify\r\nconst INITIAL_STATE = {\r\n  isLoggedIn: false,\r\n  _id: null,\r\n  token: null,\r\n  currentChatroom: \"Buddies\",\r\n  data: {},\r\n  socket: null,\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case CHECK_AUTH:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case LOG_IN:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case LOG_OUT:\r\n      return {\r\n        ...state,\r\n        ...INITIAL_STATE,\r\n      };\r\n    case UPDATE_USER:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          ...action.payload,\r\n        },\r\n      };\r\n    case SET_CHATROOM:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case SET_SOCKET:\r\n      return {\r\n        ...state,\r\n        socket: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import _ from \"lodash\";\r\nimport {\r\n  ADD_CHATROOM,\r\n  DISPLAY_CHATROOMS,\r\n  RENDER_NEW_MESSAGE,\r\n  RENDER_MESSAGES,\r\n  LOG_OUT,\r\n} from \"../types\";\r\nimport { log } from \"../../utils/log\";\r\n\r\nconst INITIAL_STATE = [];\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case ADD_CHATROOM:\r\n      return {\r\n        ...state,\r\n        [action.payload.name]: {\r\n          ...action.payload,\r\n        },\r\n      };\r\n    case DISPLAY_CHATROOMS:\r\n      return {\r\n        ..._.mapKeys(action.payload, \"name\"),\r\n      };\r\n    case RENDER_NEW_MESSAGE:\r\n      return {\r\n        ...state,\r\n        [action.payload.chatroomName]: {\r\n          ...state[action.payload.chatroomName],\r\n          messages: [\r\n            ...state[action.payload.chatroomName].messages,\r\n            action.payload.message,\r\n          ],\r\n        },\r\n      };\r\n    case RENDER_MESSAGES:\r\n      return {\r\n        ...state,\r\n        [action.payload.chatroomName]: {\r\n          ...state[action.payload.chatroomName],\r\n          messages: [...action.payload.messages],\r\n        },\r\n      };\r\n    case LOG_OUT:\r\n      return {\r\n        ...state,\r\n        ...INITIAL_STATE,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport authReducer from \"./authReducer\";\r\nimport chatReducer from \"./chatReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  chatrooms: chatReducer,\r\n  form: formReducer,\r\n});\r\n","// Chat Action Types\r\nexport const ADD_CHATROOM = \"ADD_CHATROOM\";\r\nexport const DISPLAY_CHATROOMS = \"DISPLAY_CHATROOMS\";\r\nexport const RENDER_NEW_MESSAGE = \"RENDER_NEW_MESSAGE\";\r\nexport const RENDER_MESSAGES = \"RENDER_MESSAGES\";\r\nexport const CLOSE_CHAT = \"CLOSE_CHAT\";\r\n\r\n// Authorization Action Types\r\nexport const CHECK_AUTH = \"CHECK_AUTH\";\r\nexport const LOG_IN = \"LOG_IN\";\r\nexport const LOG_OUT = \"LOG_OUT\";\r\nexport const UPDATE_USER = \"UPDATE_USER\";\r\nexport const SET_CHATROOM = \"SET_CHATROOM\";\r\nexport const SET_SOCKET = \"SET_SOCKET\";\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport reducers from \"../redux/reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","import axios from \"axios\";\r\nexport default axios.create({\r\n  baseURL:\r\n    process.env.NODE_ENV === \"production\"\r\n      ? \"https://dsc-whatschat.herokuapp.com/\"\r\n      : \"http://localhost:5500\",\r\n  headers: {\r\n    \"Access-Control-Allow-Origin\": \"http://localhost:5500/*\",\r\n    \"Content-Security-Policy\": \"default-src *\",\r\n  },\r\n});\r\n","import api from \"../../config/api\";\r\nimport history from \"../../config/history\";\r\nimport {\r\n  CHECK_AUTH,\r\n  LOG_IN,\r\n  LOG_OUT,\r\n  UPDATE_USER,\r\n  SET_CHATROOM,\r\n  SET_SOCKET,\r\n} from \"../types\";\r\n\r\n// Authorize a user\r\nexport const checkAuth = () => async (dispatch) => {\r\n  const token = localStorage.getItem(\"jwt-token\");\r\n  if (!token) {\r\n    return dispatch({\r\n      type: \"CHECK_AUTH\",\r\n      payload: {\r\n        isLoggedIn: false,\r\n        token: null,\r\n      },\r\n    });\r\n  }\r\n\r\n  const response = await api.get(\"/user-id\", {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n  dispatch({\r\n    type: CHECK_AUTH,\r\n    payload: {\r\n      _id: response.data._id,\r\n      token,\r\n      isLoggedIn: true,\r\n      data: response.data,\r\n    },\r\n  });\r\n  history.push(`/chats/5f52268b6d59e14df8174254`);\r\n};\r\n\r\n// Log a user in\r\nexport const login = (formValues) => async (dispatch) => {\r\n  const defaultURL = \"5f52268b6d59e14df8174254\";\r\n  const response = await api.post(\"/login-user\", { ...formValues });\r\n\r\n  if (response.data.error) {\r\n    const error = response.data.error;\r\n    alert(`${error.message}`);\r\n    return;\r\n  }\r\n\r\n  localStorage.setItem(\"jwt-token\", response.data.token);\r\n\r\n  dispatch({\r\n    type: LOG_IN,\r\n    payload: {\r\n      _id: response.data.user._id,\r\n      token: response.data.token,\r\n      isLoggedIn: true,\r\n      data: response.data.user,\r\n    },\r\n  });\r\n\r\n  history.push(`/chats/${defaultURL}`);\r\n};\r\n\r\n// Log a user out\r\nexport const logout = () => async (dispatch, getState) => {\r\n  const { token } = getState().auth;\r\n\r\n  await api.post(\r\n    \"/logout\",\r\n    {},\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n  await localStorage.removeItem(\"jwt-token\");\r\n\r\n  dispatch({\r\n    type: LOG_OUT,\r\n  });\r\n\r\n  history.push(\"/\");\r\n};\r\n\r\n// Sign up a new user\r\nexport const signup = (formValues) => async (dispatch) => {\r\n  const defaultURL = \"5f52268b6d59e14df8174254\";\r\n  const response = await api.post(\"/create-user\", { ...formValues });\r\n  if (response.data.error) {\r\n    const error = response.data.error;\r\n    if (error.code === 11000) {\r\n      alert(\r\n        `The username \"${error.keyValue.username}\" has already been taken.`\r\n      );\r\n    }\r\n    return;\r\n  }\r\n\r\n  localStorage.setItem(\"jwt-token\", response.data.token);\r\n\r\n  dispatch({\r\n    type: CHECK_AUTH,\r\n    payload: {\r\n      _id: response.data.user._id,\r\n      token: response.data.token,\r\n      isLoggedIn: true,\r\n      data: response.data.user,\r\n    },\r\n  });\r\n\r\n  history.push(`/chats/${defaultURL}`);\r\n};\r\n\r\n// Update a user account\r\nexport const updateUser = (formValues) => async (dispatch, getState) => {\r\n  const { token } = getState().auth;\r\n  const response = await api.patch(\r\n    \"./user-update\",\r\n    { ...formValues },\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (response.data.error) {\r\n    const error = response.data.error;\r\n    if (error.code === 11000) {\r\n      alert(\r\n        `The username \"${error.keyValue.username}\" has already been taken.`\r\n      );\r\n    }\r\n    return;\r\n  }\r\n\r\n  await dispatch({\r\n    type: UPDATE_USER,\r\n    payload: response.data,\r\n  });\r\n};\r\n\r\n// Delete a user account\r\nexport const deleteUser = () => async (dispatch, getState) => {\r\n  const { token } = getState().auth;\r\n  const response = await api.post(\r\n    \"/user-delete\",\r\n    {},\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (response.data.userDeleted) {\r\n    await localStorage.removeItem(\"jwt-token\");\r\n    await dispatch({\r\n      type: LOG_OUT,\r\n    });\r\n    history.push(\"/\");\r\n  }\r\n};\r\n\r\n// Set the current chatroom\r\nexport const setChatroom = (currentChatroom) => async (dispatch, getState) => {\r\n  const { chatrooms } = getState();\r\n  dispatch({\r\n    type: SET_CHATROOM,\r\n    payload: { currentChatroom },\r\n  });\r\n\r\n  history.push(`/chats/${chatrooms[currentChatroom]._id}`);\r\n};\r\n\r\n// Set the socket instance\r\nexport const setSocket = (socket) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_SOCKET,\r\n    payload: socket,\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nconst RenderForm = (props) => {\r\n  const handleForm = (formValues) => {\r\n    const { initialValues } = props;\r\n\r\n    if (!initialValues) {\r\n      return props.handleForm(formValues);\r\n    }\r\n\r\n    const valuesToValidate = Object.keys(formValues);\r\n    if (valuesToValidate.some((value) => formValues[value] === \"\")) {\r\n      props.reset();\r\n    }\r\n\r\n    let updateValues = {};\r\n    Object.keys(initialValues).forEach((value) => {\r\n      if (initialValues[value] !== formValues[value]) {\r\n        updateValues = { ...updateValues, [value]: formValues[value] };\r\n      }\r\n    });\r\n    props.handleForm(updateValues);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={props.handleSubmit(handleForm)}\r\n      className=\"form-signin mt-2\"\r\n    >\r\n      {props.children}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default reduxForm({ form: \"userForm\" })(RenderForm);\r\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport { RenderForm } from \"../RenderForm\";\r\n\r\nexport const LoginForm = (props) => {\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className=\"text-white text-left my-2\">{label}</label>\r\n        <input\r\n          className=\"form-control\"\r\n          placeholder={label}\r\n          {...input}\r\n          type={type}\r\n          required\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleForm = (formValues) => {\r\n    props.handleForm(formValues);\r\n  };\r\n\r\n  return (\r\n    <RenderForm handleForm={handleForm}>\r\n      <div className=\"ui stacked element\">\r\n        <Field\r\n          name=\"username\"\r\n          component={renderInput}\r\n          label=\"Username\"\r\n          type=\"text\"\r\n        />\r\n        <Field\r\n          name=\"password\"\r\n          component={renderInput}\r\n          label=\"Password\"\r\n          type=\"password\"\r\n        />\r\n        <button className=\"btn btn-md btn-secondary btn-block my-4 mx-auto w-25\">\r\n          Submit\r\n        </button>\r\n      </div>\r\n      <div className=\"d-flex w-100 justify-content-center text-white\">\r\n        <div className=\"col\">\r\n          <p className=\"m-0 p-0\">Sample User Credentials</p>\r\n          <p className=\"m-0 p-0\">Username: sampleuser</p>\r\n          <p className=\"m-0 p-0\">Password: examplepass000</p>\r\n        </div>\r\n      </div>\r\n    </RenderForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport { RenderForm } from \"../RenderForm\";\r\n\r\nexport const SignupForm = (props) => {\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className=\"text-white text-left my-2\">{label}</label>\r\n        <input\r\n          className=\"form-control\"\r\n          type={type}\r\n          placeholder={label}\r\n          {...input}\r\n          required\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleForm = (formValues) => {\r\n    props.handleForm(formValues);\r\n  };\r\n\r\n  return (\r\n    <RenderForm handleForm={handleForm}>\r\n      <Field name=\"name\" component={renderInput} label=\"Name\" type=\"text\" />\r\n      <Field\r\n        name=\"username\"\r\n        component={renderInput}\r\n        label=\"Username\"\r\n        type=\"text\"\r\n      />\r\n      <Field name=\"email\" component={renderInput} label=\"Email\" type=\"email\" />\r\n      <Field\r\n        name=\"password\"\r\n        component={renderInput}\r\n        label=\"Password\"\r\n        type=\"password\"\r\n      />\r\n      <Field\r\n        name=\"passwordConf\"\r\n        component={renderInput}\r\n        label=\"Confirm Password\"\r\n        type=\"password\"\r\n      />\r\n      <button className=\"btn btn-md btn-secondary btn-block mt-4 mx-auto w-50\">\r\n        Submit\r\n      </button>\r\n    </RenderForm>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { login, signup, setSocket } from \"../../redux/actions/authActions\";\r\nimport { LoginForm } from \"../LoginForm\";\r\nimport { SignupForm } from \"../SignupForm\";\r\nimport \"./landing.css\";\r\nimport { io } from \"socket.io-client\";\r\n\r\nconst Landing = (props) => {\r\n  const [activeForm, setActiveForm] = useState(\"signup\");\r\n  const handleSignup = (formValues) => {\r\n    props.signup(formValues);\r\n  };\r\n\r\n  const handleLogin = async (formValues) => {\r\n    props.login(formValues);\r\n    const socket =\r\n      process.env.NODE_ENV === \"production\"\r\n        ? io()\r\n        : io(\"http://localhost:5500\");\r\n    await setSocket(socket);\r\n  };\r\n\r\n  const updateCurrentForm = () => {\r\n    if (activeForm === \"signup\") {\r\n      setActiveForm(\"login\");\r\n    }\r\n    if (activeForm === \"login\") {\r\n      setActiveForm(\"signup\");\r\n    }\r\n  };\r\n\r\n  const renderForm = () => {\r\n    return activeForm === \"signup\" ? (\r\n      <SignupForm handleForm={handleSignup} />\r\n    ) : (\r\n      <LoginForm handleForm={handleLogin} />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"landing__area col\">\r\n      <div className=\"landing__container container pb-3 px-3 bg-dark\">\r\n        <div className=\"row mb-2\">\r\n          <div className=\"col p-0\">\r\n            <button\r\n              onClick={() => updateCurrentForm()}\r\n              className={classNames({\r\n                \"btn btn-large text-white w-100 p-3\": true,\r\n                \"btn-outline-dark\": activeForm === \"signup\",\r\n                \"btn-secondary\": activeForm === \"login\",\r\n              })}\r\n              disabled={activeForm === \"signup\"}\r\n            >\r\n              Sign Up Here!\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"col h-100 p-0\">\r\n            <button\r\n              onClick={() => updateCurrentForm()}\r\n              className={classNames({\r\n                \"btn btn-large text-white w-100 p-3\": true,\r\n                \"btn-outline-dark disabled\": activeForm === \"login\",\r\n                \"btn-secondary\": activeForm === \"signup\",\r\n              })}\r\n              disabled={activeForm === \"login\"}\r\n            >\r\n              Log In Here!\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {renderForm()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { signup, login, setSocket })(Landing);\r\n","import React from \"react\";\r\nimport { Landing } from \"../components/Landing\";\r\n\r\nexport const Home = () => <Landing />;\r\n","import React from \"react\";\r\n\r\nexport const profileIcon = (\r\n  <svg\r\n    width=\"1.2em\"\r\n    height=\"1em\"\r\n    viewBox=\"0 0 16 16\"\r\n    className=\"bi bi-person\"\r\n    fill=\"currentColor\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const chatsIcon = (\r\n  <svg\r\n    width=\"1.2em\"\r\n    height=\"1em\"\r\n    viewBox=\"0 0 16 16\"\r\n    className=\"bi bi-chat-right-text\"\r\n    fill=\"currentColor\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const avatarIcon = (\r\n  <svg\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    viewBox=\"0 0 16 16\"\r\n    className=\"bi bi-person-fill\"\r\n    fill=\"currentColor\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const plusIcon = (\r\n  <svg\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    viewBox=\"0 0 16 16\"\r\n    className=\"bi bi-plus-square\"\r\n    fill=\"currentColor\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const pencilIcon = (\r\n  <svg\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    viewBox=\"0 0 16 16\"\r\n    className=\"bi bi-pencil\"\r\n    fill=\"currentColor\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport const threeDotIcon = (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    fill=\"currentColor\"\r\n    className=\"bi bi-three-dots-vertical\"\r\n    viewBox=\"0 0 16 16\"\r\n  >\r\n    <path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\r\n  </svg>\r\n);\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { profileIcon, chatsIcon } from \"../../icons/icons\";\r\nimport \"./iconButton.css\";\r\n\r\nexport const IconButton = (props) => {\r\n  const renderIcon = () => {\r\n    if (props.icon === \"profile\") {\r\n      return profileIcon;\r\n    }\r\n    if (props.icon === \"chats\") {\r\n      return chatsIcon;\r\n    }\r\n  };\r\n  return (\r\n    <button\r\n      className={classNames(\"nav__icon\", {\r\n        \"icon__button-active\": props.icon === props.activeIcon,\r\n        \"\": props.icon !== props.activeIcon,\r\n      })}\r\n      disabled={props.icon === props.activeIcon}\r\n    >\r\n      {renderIcon()}\r\n    </button>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React from 'react';\r\nimport \"./messageBubble.css\"\r\n/* ------ */\r\n\r\n\r\nexport const MessageBubble = ({ type, messageKey, timestamp, author, message }) => {\r\n  return (\r\n    <li key={messageKey} className={`message message__${type}`}>\r\n      <div className={`message__container message__container-${type}`}>\r\n        <div className={`message__content`}>\r\n          <div className={`message__row message__row-body`}>\r\n            <p className='message__text message__text-author' >\r\n              {author !== \"system\" ? author : null}\r\n            </p>\r\n            <p className={`message__text ${author !== \"system\" ? \"message__text-message\" : \"message__text-system\"}`}>\r\n              {message}\r\n            </p>\r\n          </div>\r\n          <div className={`message__row message__row-footer`}>\r\n            <div className='message__timestamp'>\r\n              {timestamp}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\n\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autoscroll, formatTimestamp } from \"../../utils\";\r\nimport { MessageBubble } from \"../MessageBubble\";\r\nimport \"./messagesDisplay.css\";\r\n\r\nconst MessagesDisplay = ({ messages, auth }) => {\r\n  const messageList = useRef(null);\r\n  useEffect(() => autoscroll(messageList), [messages.length]);\r\n\r\n  const renderMessages = () => {\r\n    const messageKeysArray = Object.keys(messages);\r\n    return messageKeysArray.map((messageKey) => {\r\n      if (messages[messageKey].author === \"system\") {\r\n        return (\r\n          // <span>{messages[messageKey].message}</span>\r\n          <MessageBubble\r\n            key={messageKey}\r\n            type=\"system\"\r\n            author={messages[messageKey].author}\r\n            message={messages[messageKey].message}\r\n          />\r\n        );\r\n      } else {\r\n        const timestamp = formatTimestamp(messages[messageKey].createdAt);\r\n        return (\r\n          <MessageBubble\r\n            key={messageKey}\r\n            type={messages[messageKey].userId !== auth._id ? \"rec\" : \"sent\"}\r\n            timestamp={timestamp}\r\n            author={messages[messageKey].author}\r\n            message={messages[messageKey].message}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatroom__content\">\r\n      <ul\r\n        className=\"message__display message__display-scroll \"\r\n        ref={messageList}\r\n      >\r\n        {messages ? (\r\n          renderMessages()\r\n        ) : (\r\n          <div className=\"text-white\">Send a message!!</div>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(MessagesDisplay);\r\n","export const autoscroll = (messageList) => {\r\n  // new message element\r\n  const newMessage = messageList.current.lastElementChild;\r\n\r\n  if (!newMessage) {return};\r\n\r\n  // get the height of the newMessage\r\n  const newMessageStyles = getComputedStyle(newMessage.lastElementChild);\r\n  const newMessageMargin = parseInt(newMessageStyles.marginBottom);\r\n  const newMessageHeight = messageList.current.offsetHeight + newMessageMargin;\r\n\r\n  // get the visible height\r\n  const visibleHeight = messageList.current.offsetHeight;\r\n\r\n  // get the message container height\r\n  const contentHeight = messageList.current.scrollHeight;\r\n\r\n  // Current scroll location\r\n  const scrollOffset = messageList.current.scrollTop + visibleHeight;\r\n\r\n  if (contentHeight - newMessageHeight <= scrollOffset) {\r\n    // this will set the scroll top position to the maximum scroll top value being the bottom of the page\r\n    messageList.current.scrollTop = messageList.current.scrollHeight;\r\n  }\r\n};","import moment from \"moment\";\r\n\r\nexport const formatTimestamp = (createdAt) => {\r\n  return moment(createdAt).format('h:mm A');\r\n}","/* IMPORTS */\r\nimport React from \"react\";\r\nimport \"./messageInput.css\";\r\n/* ------ */\r\n\r\nexport const MessageInput = ({ message, onSubmit, onChange }) => {\r\n  return (\r\n    <div className=\"chatroom__message\">\r\n      <form className=\"new-message__form\" onSubmit={onSubmit}>\r\n        <div className=\"message-form__row\">\r\n          <div className=\"message-form__col message-form__col-input\">\r\n            <input\r\n              className=\"message-form__input form-control\"\r\n              placeholder=\"Message...\"\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n          <div className=\"message-form__col message-form__col-cta\">\r\n            <button className=\"message-form__cta button\">Send</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","/* ----   JOIN_CHATROOM ACTION CREATOR    ---- */\r\nimport { log } from \"../utils/log\";\r\n\r\nexport const createChatroomEmitter = (chatroomName, userId, socket) => {\r\n  socket.emit(\"create-chatroom\", chatroomName, userId);\r\n};\r\n\r\nexport const joinChatroomEmitter = (\r\n  newChatroomName,\r\n  oldChatroomName,\r\n  userName,\r\n  socket\r\n) => {\r\n  socket.emit(\r\n    \"join-chatroom\",\r\n    newChatroomName,\r\n    oldChatroomName,\r\n    userName,\r\n  );\r\n};\r\n/* ----   ****    ---- */\r\n\r\nexport const rejoinChatroomEmitter = (\r\n  newChatroomName,\r\n  oldChatroomName,\r\n  userName,\r\n  socket\r\n) => {\r\n  socket.emit(\r\n    \"rejoin-chatroom\",\r\n    newChatroomName,\r\n    oldChatroomName,\r\n    userName,\r\n  );\r\n};\r\n\r\nexport const fetchMessagesEmitter = (chatroomName, socket) => {\r\n  socket.emit(\"fetching-messages\", chatroomName);\r\n};\r\n\r\n/* ----   RENDER_NEW_MESSAGE ACTION CREATOR    ---- */\r\nexport const sendMessageEmitter = (messageData, socket) => {\r\n  socket.emit(\"new-message\", { ...messageData });\r\n};\r\n\r\n/* ----   LEAVE_CHATROOM ACTION CREATOR    ---- */\r\nexport const leaveChatroomEmitter = (chatroomName, userName, socket) => {\r\n  socket.emit(\"leave-chatroom\", chatroomName, userName);\r\n};\r\n/* ----   ****    ---- */\r\n\r\n/* ----   DELETE_CHATROOM ACTION CREATOR    ---- */\r\nexport const deleteChatroomEmitter = (chatroomName, socket) => {\r\n  socket.emit(\"delete-chatroom\", chatroomName);\r\n};\r\n/* ----   ****    ---- */\r\n","/* IMPORTS */\r\nimport React from \"react\";\r\nimport \"./chatroomHeading.css\";\r\n/* ------ */\r\n\r\nexport const ChatroomHeading = ({ chatroomName }) => {\r\n  return (\r\n    <div className=\"chatroom__heading\">\r\n      <h2 className=\"chatroom__title\">{chatroomName}</h2>\r\n    </div>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { MessagesDisplay } from \"../MessagesDisplay\";\r\nimport { MessageInput } from \"../MessageInput\";\r\nimport { connect } from \"react-redux\";\r\nimport { sendMessageEmitter } from \"../../socket.io/emitters\";\r\nimport { ChatroomHeading } from \"../ChatroomHeading\";\r\nimport \"./chatroomDisplay.css\";\r\n/* ------ */\r\n\r\nconst ChatroomDisplay = ({ chatrooms, auth }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n  useEffect(() => {}, [auth.currentChatroom]);\r\n\r\n  const onChange = (e) => {\r\n    setMessage(e.target.value);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    sendMessageEmitter(\r\n      {\r\n        message,\r\n        chatroomName: auth.currentChatroom,\r\n        userId: auth._id,\r\n        author: auth.data.username,\r\n      },\r\n      auth.socket\r\n    );\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const displayChatroomContent = chatrooms[auth.currentChatroom] ? (\r\n    <div className=\"chatroom__container\">\r\n      <ChatroomHeading chatroomName={auth.currentChatroom} />\r\n      <MessagesDisplay messages={chatrooms[auth.currentChatroom].messages} />\r\n      <MessageInput message={message} onSubmit={onSubmit} onChange={onChange} />\r\n    </div>\r\n  ) : (\r\n    <Spinner animation=\"border\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  );\r\n\r\n  return <div className=\"chatroom__display\">{displayChatroomContent}</div>;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    chatrooms: state.chatrooms,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(ChatroomDisplay);\r\n","import api from \"../../config/api\";\r\nimport history from \"../../config/history\";\r\nimport {\r\n  DISPLAY_CHATROOMS,\r\n  RENDER_NEW_MESSAGE,\r\n  RENDER_MESSAGES,\r\n  ADD_CHATROOM,\r\n  SET_CHATROOM,\r\n} from \"../types\";\r\nimport _ from \"lodash\";\r\n\r\n// Create a new chatroom\r\nexport const createChatroom = (chatroom) => async (dispatch) => {\r\n\r\n  try {\r\n    dispatch({\r\n      type: ADD_CHATROOM,\r\n      payload: { ...chatroom, messages: [] },\r\n    });\r\n    history.push(`/chats/${chatroom._id}`);\r\n  } catch (e) {\r\n    dispatch({\r\n      type: \"ERROR\",\r\n      error: \"Invalid Name\",\r\n    });\r\n  }\r\n};\r\n\r\n// Display current chatrooms\r\nexport const displayChatrooms = (chatrooms) => async (dispatch) => {\r\n  const mappedChatrooms = chatrooms.map((chat) => {\r\n    return { ...chat, messages: [] };\r\n  });\r\n  dispatch({\r\n    type: DISPLAY_CHATROOMS,\r\n    payload: { ...mappedChatrooms },\r\n  });\r\n};\r\n\r\n// Close a chatroom\r\nexport const closeChatroom = (chatroomName) => (dispatch, getState) => {\r\n  const chatrooms = _.omit(getState().chatrooms, [chatroomName]);\r\n  dispatch({\r\n    type: DISPLAY_CHATROOMS,\r\n    payload: { ...chatrooms },\r\n  });\r\n};\r\n\r\n// Render historic messages\r\nexport const renderMessages = (chatroomName, messages) => async (dispatch) => {\r\n  await dispatch({\r\n    type: RENDER_MESSAGES,\r\n    payload: { chatroomName, messages },\r\n  });\r\n};\r\n\r\n// Render new message\r\nexport const renderNewMessage = (chatroomName, message) => async (dispatch) => {\r\n  await dispatch({\r\n    type: RENDER_NEW_MESSAGE,\r\n    payload: { chatroomName, message },\r\n  });\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { io } from \"socket.io-client\";\r\nimport { ChatroomDisplay } from \"../components/ChatroomDisplay\";\r\nimport {\r\n  joinChatroomEmitter,\r\n  fetchMessagesEmitter,\r\n} from \"../socket.io/emitters\";\r\nimport { setChatroom, setSocket } from \"../redux/actions/authActions\";\r\nimport {\r\n  createChatroom,\r\n  renderNewMessage,\r\n  renderMessages,\r\n  closeChatroom,\r\n  displayChatrooms,\r\n} from \"../redux/actions/chatActions\";\r\n\r\nconst Chat = ({\r\n  auth,\r\n  createChatroom,\r\n  renderNewMessage,\r\n  renderMessages,\r\n  closeChatroom,\r\n  setChatroom,\r\n  setSocket,\r\n  displayChatrooms,\r\n}) => {\r\n  useEffect(() => {\r\n    if (!auth.socket) {\r\n      const socket =\r\n        process.env.NODE_ENV === \"production\"\r\n          ? io()\r\n          : io(\"http://localhost:5500\");\r\n      setSocket(socket);\r\n      return;\r\n    }\r\n    auth.socket.on(\"connect\", async () => {\r\n      await auth.socket.emit(\"fetch-initial-data\", auth.data._id);\r\n    });\r\n    auth.socket.on(\"initial-data\", async (chatrooms) => {\r\n      await displayChatrooms(chatrooms);\r\n      await joinChatroomEmitter(\r\n        auth.currentChatroom,\r\n        null,\r\n        auth.data.name,\r\n        auth.socket\r\n      );\r\n    });\r\n    auth.socket.on(\"chatroom-created\", async (chatroom) => {\r\n      await createChatroom(chatroom, auth.socket);\r\n      await setChatroom(chatroom.name);\r\n    });\r\n    auth.socket.on(\"fetch-messages\", (chatroomName) => {\r\n      fetchMessagesEmitter(chatroomName, auth.socket);\r\n    });\r\n    auth.socket.on(\"chatroom-left\", async (chatroomName) => {\r\n      await closeChatroom(chatroomName);\r\n    });\r\n    auth.socket.on(\"chatroom-deleted\", async (chatroomName) => {\r\n      await setChatroom(\"Buddies\");\r\n      await closeChatroom(chatroomName);\r\n    });\r\n    auth.socket.on(\"fetched-messages\", async (chatroomName, messages) => {\r\n      await renderMessages(chatroomName, messages);\r\n    });\r\n    auth.socket.on(\"return-message\", async (chatroomName, message) => {\r\n      await renderNewMessage(chatroomName, message);\r\n    });\r\n  }, [\r\n    auth.socket,\r\n    createChatroom,\r\n    setSocket,\r\n    renderMessages,\r\n    renderNewMessage,\r\n    closeChatroom,\r\n    displayChatrooms,\r\n  ]);\r\n\r\n  return <ChatroomDisplay />;\r\n};\r\n\r\nconst mapsStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapsStateToProps, {\r\n  createChatroom,\r\n  renderNewMessage,\r\n  renderMessages,\r\n  closeChatroom,\r\n  setChatroom,\r\n  setSocket,\r\n  displayChatrooms,\r\n})(Chat);\r\n","/* IMPORTS */\r\nimport React, { useState } from \"react\";\r\nimport _ from \"lodash\";\r\nimport moment from \"moment\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { Field } from \"redux-form\";\r\nimport { RenderForm } from \"../RenderForm\";\r\nimport { pencilIcon } from \"../../icons/icons\";\r\nimport \"./profileCard.css\";\r\n/* ------ */\r\n\r\nexport const ProfileCard = ({ auth, updateUser, logout, setModalDisplay }) => {\r\n  const [editing, setEditing] = useState(\"\");\r\n\r\n  const handleForm = async (formValues) => {\r\n    await updateUser(formValues);\r\n    setEditing(\"\");\r\n  };\r\n\r\n  const renderSubmitButton =\r\n    editing === \"\" ? null : (\r\n      <ListGroup.Item className=\"profile__row\">\r\n        <button type=\"submit\" className=\"profile__submit button\">\r\n          Update\r\n        </button>\r\n      </ListGroup.Item>\r\n    );\r\n\r\n  const renderError = ({ error, touched }) => {\r\n    if (touched && error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\r\n    return (\r\n      <div className={`row__content ${className}`}>\r\n        <div className=\"content__col content__col-label\">\r\n          <label className=\"profile__label\">{label}</label>\r\n        </div>\r\n        <div className=\"content__col content__col-input\">\r\n          {editing === label ? (\r\n            <input className=\"profile__input form-control\" {...input} />\r\n          ) : (\r\n            <input\r\n              className=\"profile__input-placeholder form-control-plaintext\"\r\n              placeholder={meta.initial}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"content__col content__col-cta\">\r\n          <div\r\n            onClick={() =>\r\n              editing === label ? setEditing(\"\") : setEditing(label)\r\n            }\r\n            className=\"profile__cta-edit\"\r\n          >\r\n            {editing === label ? \"\\u2715\" : pencilIcon}\r\n          </div>\r\n        </div>\r\n        {renderError(meta)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className=\"profile__card\">\r\n      <Card.Img\r\n        className=\"profile__avatar\"\r\n        variant=\"top\"\r\n        src={`data:image/png;base64,${auth.data.avatar}`}\r\n      />\r\n      <Card.Body className=\"profile__body\">\r\n        <RenderForm\r\n          handleForm={handleForm}\r\n          initialValues={_.pick(\r\n            auth.data,\r\n            \"name\",\r\n            \"username\",\r\n            \"email\",\r\n            \"password\"\r\n          )}\r\n        >\r\n          <ListGroup className=\"profile__content\" variant=\"flush\">\r\n            <ListGroup.Item className=\"profile__row\">\r\n              <Field name=\"name\" component={renderInput} label=\"Name:\" />\r\n            </ListGroup.Item>\r\n            <ListGroup.Item className=\"profile__row\">\r\n              <Field\r\n                name=\"username\"\r\n                component={renderInput}\r\n                label=\"Username:\"\r\n              />\r\n            </ListGroup.Item>\r\n            <ListGroup.Item className=\"profile__row\">\r\n              <Field name=\"email\" component={renderInput} label=\"Email:\" />\r\n            </ListGroup.Item>\r\n            <ListGroup.Item className=\"profile__row\">\r\n              <Field\r\n                name=\"password\"\r\n                component={renderInput}\r\n                label=\"Password:\"\r\n              />\r\n            </ListGroup.Item>\r\n            {renderSubmitButton}\r\n          </ListGroup>\r\n        </RenderForm>\r\n      </Card.Body>\r\n      <Card.Footer className=\"profile__footer\">\r\n        <ListGroup className=\"profile__row\" variant=\"flush\">\r\n          <ListGroup.Item className=\"profile__row\">\r\n            <div className=\"row justify-content-around\">\r\n              <div className=\"col text-center\">\r\n                User Since: {moment(auth.data.createdAt).format(\"MMM 'YY\")}\r\n              </div>\r\n            </div>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item className=\"profile__row\">\r\n            <button\r\n              onClick={() => logout()}\r\n              className=\"profile__cta profile__cta-logout button\"\r\n            >\r\n              Log Out\r\n            </button>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item className=\"profile__row\">\r\n            <button\r\n              onClick={() => setModalDisplay(true)}\r\n              className=\"profile__cta profile__cta-delete button\"\r\n              disabled={auth.data._id === \"5f637fdd0a41ae691c828e50\"}\r\n            >\r\n              Delete Account\r\n            </button>\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      </Card.Footer>\r\n    </Card>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalFooter from \"react-bootstrap/ModalFooter\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\n\r\nexport const ConfirmationModal = ({\r\n  modalConfig,\r\n  setModalDisplay,\r\n  modalDisplay,\r\n  fnHandler,\r\n}) => {\r\n  const handleDeleteClick = () => {\r\n    setModalDisplay(false);\r\n    fnHandler();\r\n  };\r\n\r\n  if (modalDisplay) {\r\n    return (\r\n      <Modal show={modalDisplay} onHide={() => setModalDisplay(false)}>\r\n        <ModalHeader closeButton>\r\n          <ModalTitle>{modalConfig.title}</ModalTitle>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <p>{modalConfig.message}</p>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <button\r\n            onClick={() => setModalDisplay(false)}\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => handleDeleteClick()}\r\n            className={`btn btn-${modalConfig.btnStyle}`}\r\n          >\r\n            {modalConfig.btnText}\r\n          </button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n  return <></>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ProfileCard } from \"../ProfileCard\";\r\nimport { ConfirmationModal } from \"../ConfirmationModal\";\r\nimport {\r\n  logout,\r\n  updateUser,\r\n  deleteUser,\r\n} from \"../../redux/actions/authActions\";\r\nimport \"./sidebarProfile.css\";\r\n\r\nconst SidebarProfile = ({ auth, logout, updateUser, deleteUser }) => {\r\n  const [modalDisplay, setModalDisplay] = useState(false);\r\n  const deleteAccountModalConfig = {\r\n    title: \"Delete Account\",\r\n    message: \"Are you sure you want to delete your account?\",\r\n    btnText: \"Delete\",\r\n    btnStyle: \"danger\",\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    deleteUser();\r\n  };\r\n\r\n  const profileDisplay = auth.isLoggedIn ? (\r\n    <ProfileCard\r\n      auth={auth}\r\n      updateUser={updateUser}\r\n      logout={logout}\r\n      setModalDisplay={setModalDisplay}\r\n    />\r\n  ) : (\r\n    <div className=\"text-white\">Log in to see your profile</div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"sidebar__profile\">\r\n      {profileDisplay}\r\n      <ConfirmationModal\r\n        modalConfig={deleteAccountModalConfig}\r\n        setModalDisplay={setModalDisplay}\r\n        modalDisplay={modalDisplay}\r\n        fnHandler={handleDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout, updateUser, deleteUser })(\r\n  SidebarProfile\r\n);\r\n","import React from \"react\";\r\nimport { plusIcon } from \"../../icons/icons\";\r\nimport \"./sidebarForm.css\";\r\n\r\nexport const SidebarForm = (props) => {\r\n  const onChange = (e) => {\r\n    props.onChange(e);\r\n  };\r\n\r\n  const handleForm = (e) => {\r\n    props.handleForm(e);\r\n  };\r\n\r\n  const errorStyle =\r\n    props.newRoomName.length < 5 && props.newRoomName.length !== 0\r\n      ? \"is-invalid\"\r\n      : null;\r\n\r\n  return (\r\n    <form className=\"sidebar__form\" onSubmit={handleForm}>\r\n      <div className=\"sidebar__form_col sidebar__form_col-start\">\r\n        <input\r\n          value={props.newRoomName}\r\n          onChange={onChange}\r\n          className={`sidebar__form_input form-control ${errorStyle}`}\r\n          type=\"text\"\r\n          placeholder={\"Start new chat\"}\r\n          name=\"chatForm\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"sidebar__form_col sidebar__form_col-end\">\r\n        <button type=\"submit\" className=\"sidebar__cta-new\">\r\n          {plusIcon}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport { threeDotIcon } from \"../../icons/icons\";\r\nimport \"./sidebarContextMenu.css\";\r\n/* ------ */\r\n\r\nexport const SidebarContextMenu = ({\r\n  handleClose,\r\n  handleLeave,\r\n  displayDelete,\r\n  setModalDisplay,\r\n  chatroomId,\r\n}) => {\r\n  const CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n      className=\"item__cta\"\r\n      href=\"\"\r\n      ref={ref}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        onClick(e);\r\n      }}\r\n    >\r\n      {children}\r\n      {threeDotIcon}\r\n    </a>\r\n  ));\r\n\r\n  const toggleDeleteCTA = displayDelete ? (\r\n    <>\r\n      <Dropdown.Divider className=\"dropdown__divider\" />\r\n      <Dropdown.Item\r\n        className=\"dropdown__item\"\r\n        onClick={() => setModalDisplay(true)}\r\n      >\r\n        Delete Chatroom\r\n      </Dropdown.Item>\r\n    </>\r\n  ) : null;\r\n\r\n  return (\r\n    <Dropdown>\r\n      <Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\" />\r\n      <Dropdown.Menu className=\"dropdown__content\" variant=\"dark\">\r\n        <Dropdown.Item\r\n          className=\"dropdown__item\"\r\n          onClick={() => handleClose(chatroomId)}\r\n        >\r\n          Close Chatroom\r\n        </Dropdown.Item>\r\n        <Dropdown.Divider className=\"dropdown__divider\" />\r\n        <Dropdown.Item\r\n          className=\"dropdown__item\"\r\n          onClick={() => handleLeave(chatroomId)}\r\n        >\r\n          Leave Chatroom\r\n        </Dropdown.Item>\r\n        {toggleDeleteCTA}\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React, { useState } from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { SidebarContextMenu } from \"../SidebarContextMenu\";\r\nimport { ConfirmationModal } from \"../ConfirmationModal\";\r\nimport {\r\n  joinChatroomEmitter,\r\n  rejoinChatroomEmitter,\r\n  leaveChatroomEmitter,\r\n  deleteChatroomEmitter,\r\n} from \"../../socket.io/emitters\";\r\nimport { profileIcon } from \"../../icons/icons\";\r\nimport \"./sidebarChatItem.css\";\r\n\r\n/* ------ */\r\n\r\nexport const SidebarChatItem = ({\r\n  chatroom,\r\n  setChatroom,\r\n  auth,\r\n  handleClose,\r\n}) => {\r\n  const [modalDisplay, setModalDisplay] = useState(false);\r\n  const deleteChatroomModalConfig = {\r\n    title: \"Delete Chatroom\",\r\n    message: \"Are you sure you would like to delete this chat room?\",\r\n    btnText: \"Delete\",\r\n    btnStyle: \"danger\",\r\n  };\r\n\r\n  const handleLeave = () => {\r\n    leaveChatroomEmitter(chatroom.name, auth.data.name, auth.socket);\r\n  };\r\n\r\n  const handleClick = async () => {\r\n    setChatroom(chatroom.name);\r\n    if (chatroom.messages.length !== 0) {\r\n      rejoinChatroomEmitter(\r\n        chatroom.name,\r\n        auth.currentChatroom,\r\n        auth.data.name,\r\n        auth.socket\r\n      );\r\n    } else {\r\n      joinChatroomEmitter(\r\n        chatroom.name,\r\n        auth.currentChatroom,\r\n        auth.data.name,\r\n        auth.socket\r\n      );\r\n    }\r\n  };\r\n\r\n  const onDelete = () => {\r\n    deleteChatroomEmitter(chatroom.name, auth.socket);\r\n  };\r\n\r\n  return (\r\n    <ListGroup.Item\r\n      className={`list__item ${\r\n        chatroom.name === auth.currentChatroom ? \"list__item-active\" : \"\"\r\n      }`}\r\n      disabled={chatroom.name === auth.currentChatroom}\r\n    >\r\n      <div className=\"item__col\">\r\n        <Link\r\n          onClick={() => handleClick()}\r\n          className=\"item__link\"\r\n          to={{\r\n            pathname: `/chats/${chatroom._id}`,\r\n          }}\r\n        >\r\n          <div className=\"link__icon\">{profileIcon}</div>\r\n          <div className=\"link__name\">\r\n            <div className=\"link__text\">{chatroom.name}</div>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"item__col item__col-cta\">\r\n        <SidebarContextMenu\r\n          chatroomId={chatroom._id}\r\n          handleClose={handleClose}\r\n          handleLeave={handleLeave}\r\n          displayDelete={auth._id === chatroom.createdBy}\r\n          setModalDisplay={setModalDisplay}\r\n        />\r\n      </div>\r\n      <ConfirmationModal\r\n        modalConfig={deleteChatroomModalConfig}\r\n        setModalDisplay={setModalDisplay}\r\n        modalDisplay={modalDisplay}\r\n        fnHandler={onDelete}\r\n      />\r\n    </ListGroup.Item>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { setChatroom } from \"../../redux/actions/authActions\";\r\nimport { closeChatroom } from \"../../redux/actions/chatActions\";\r\nimport { createChatroomEmitter } from \"../../socket.io/emitters\";\r\nimport { SidebarForm } from \"../SidebarForm\";\r\nimport { SidebarChatItem } from \"../SidebarChatItem\";\r\nimport \"./SidebarChats.css\";\r\n\r\nconst SidebarChats = ({ auth, chatrooms, closeChatroom, setChatroom }) => {\r\n  const [newRoomName, setNewRoomName] = useState(\"\");\r\n\r\n  const onChange = (e) => {\r\n    setNewRoomName(e.target.value);\r\n  };\r\n\r\n  const handleClose = (chatroomId) => {\r\n    closeChatroom(chatroomId);\r\n  };\r\n\r\n  const handleForm = async (e) => {\r\n    e.preventDefault();\r\n    if (newRoomName.length >= 5) {\r\n      await createChatroomEmitter(newRoomName, auth._id, auth.socket);\r\n    }\r\n    await setNewRoomName(\"\");\r\n  };\r\n\r\n  const renderChatroomList = () => {\r\n    if (chatrooms === {}) {\r\n      return;\r\n    }\r\n    return Object.keys(chatrooms).map((key) => {\r\n      return (\r\n        <SidebarChatItem\r\n          key={chatrooms[key]._id}\r\n          auth={auth}\r\n          chatroom={chatrooms[key]}\r\n          setChatroom={setChatroom}\r\n          handleClose={handleClose}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderChats = () => {\r\n    return (\r\n      <ListGroup className=\"chatroom__list\">\r\n        <ListGroup.Item className=\"list__item list__item-new\">\r\n          <SidebarForm\r\n            handleForm={handleForm}\r\n            onChange={onChange}\r\n            newRoomName={newRoomName}\r\n          />\r\n        </ListGroup.Item>\r\n        {renderChatroomList()}\r\n      </ListGroup>\r\n    );\r\n  };\r\n\r\n  const chatDisplay = auth.isLoggedIn ? (\r\n    renderChats()\r\n  ) : (\r\n    <div className=\"text-white\">Log in to see chatrooms</div>\r\n  );\r\n\r\n  return <div className=\"chatroom__list\">{chatDisplay}</div>;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    chatrooms: state.chatrooms,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  closeChatroom,\r\n  setChatroom,\r\n})(SidebarChats);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { SidebarProfile } from \"../SidebarProfile\";\r\nimport { SidebarChats } from \"../SidebarChats\";\r\nimport { mapSidebarIcons } from \"../../utils\";\r\nimport \"./sidebar.css\";\r\nconst Sidebar = ({ auth }) => {\r\n  const [activeIcon, setActiveIcon] = useState(\"chats\");\r\n  const icons = [\"profile\", \"chats\"];\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setActiveIcon(\"chats\");\r\n    };\r\n  }, [auth]);\r\n\r\n  const setCurrentIcon = (e) =>\r\n    e.currentTarget.id === \"profile-cta\"\r\n      ? setActiveIcon(\"profile\")\r\n      : setActiveIcon(\"chats\");\r\n\r\n  const renderSidebarContent =\r\n    activeIcon === \"chats\" ? <SidebarChats /> : <SidebarProfile />;\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <nav className=\"sidebar__nav\">\r\n        <ul className=\"nav__list list-unstyled components\">\r\n          {mapSidebarIcons({ icons, setCurrentIcon, activeIcon })}\r\n        </ul>\r\n      </nav>\r\n      <div className=\"sidebar__content\">\r\n        <div className=\"sidebar__row py-4\">\r\n          <h2 className=\"sidebar__title\">WhatsChat</h2>\r\n        </div>\r\n        <div className=\"sidebar__row\">{renderSidebarContent}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import { IconButton } from \"../components/IconButton\";\r\nimport React from \"react\";\r\n\r\nexport const mapSidebarIcons = ({ icons, setCurrentIcon, activeIcon }) =>\r\n  icons.map((icon) => {\r\n    return (\r\n      <li\r\n        id={`${icon}-cta`}\r\n        key={icon}\r\n        className={`nav__item ${\r\n          activeIcon === icon ? \"nav__item-active\" : \"\"\r\n        } nav-item`}\r\n        onClick={(e) => setCurrentIcon(e)}\r\n      >\r\n        <IconButton icon={icon} activeIcon={activeIcon} />\r\n      </li>\r\n    );\r\n  });\r\n","import React, { useEffect } from \"react\";\r\nimport { Redirect, Router, Route, Switch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"./config/history\";\r\nimport { checkAuth } from \"./redux/actions/authActions\";\r\nimport { Home, Chat } from \"./pages\";\r\nimport { Sidebar } from \"./components/Sidebar\";\r\nimport { displayChatrooms } from \"./redux/actions/chatActions\";\r\nimport \"./styles/bootstrap.min.css\";\r\nimport \"./styles/root.css\";\r\n\r\nconst App = ({ auth, checkAuth, displayChatrooms }) => {\r\n  useEffect(() => {\r\n    if (!auth.token) {\r\n      checkAuth();\r\n\r\n      // displayChatrooms(auth.data.favoriteRooms);\r\n    }\r\n  }, [auth.token, checkAuth, displayChatrooms]);\r\n\r\n  return (\r\n    <div className=\"display wrapper\">\r\n      <Router history={history}>\r\n        <>\r\n          <Sidebar auth={auth.isLoggedIn} />\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              {auth.isLoggedIn ? (\r\n                <Redirect to={`/chats/${auth.currentChatroom}`} />\r\n              ) : (\r\n                <Home />\r\n              )}\r\n            </Route>\r\n            <Route path=\"/chats\">\r\n              {auth.isLoggedIn ? <Chat /> : <Redirect to=\"/\" />}\r\n            </Route>\r\n          </Switch>\r\n        </>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  checkAuth,\r\n  displayChatrooms,\r\n})(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./config/store\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}