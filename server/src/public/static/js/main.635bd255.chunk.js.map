{"version":3,"sources":["redux/reducers/authReducer.js","redux/reducers/chatReducer.js","redux/reducers/index.js","redux/types.js","config/store.js","config/history.js","config/api.js","redux/actions/auth/index.js","components/RenderForm/RenderForm.jsx","components/LoginForm/LoginForm.jsx","components/SignupForm/SignupForm.jsx","components/Landing/Landing.jsx","pages/Home.jsx","icons/icons.jsx","components/IconButton/IconButton.jsx","components/MessageBubble/MessageBubble.jsx","components/MessagesDisplay/MessagesDisplay.jsx","utils/autoScroll.js","utils/formatTimestamp.js","components/MessageInput/MessageInput.jsx","socket/index.js","redux/actions/chat/index.js","components/ChatroomHeading/ChatroomHeading.jsx","components/ChatroomDisplay/ChatroomDisplay.jsx","pages/Chat.jsx","components/ProfileCard/ProfileCard.jsx","components/ConfirmationModal/ConfirmationModal.jsx","components/SidebarProfile/SidebarProfile.jsx","components/SidebarForm/SidebarForm.jsx","components/SidebarChatItem/SidebarChatItem.jsx","components/SidebarChats/SidebarChats.jsx","components/Sidebar/Sidebar.jsx","utils/mapSidebarIcons.js","App.jsx","index.js"],"names":["INITIAL_STATE","isLoggedIn","_id","token","currentChatRoom","data","combineReducers","auth","state","action","type","payload","chatrooms","_","mapKeys","omit","chatroomId","messages","message","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","createBrowserHistory","console","log","process","axios","create","baseURL","headers","checkAuth","dispatch","a","localStorage","getItem","api","get","Authorization","response","reduxForm","props","onSubmit","handleSubmit","formValues","initialValues","handleForm","Object","keys","some","value","reset","updateValues","forEach","className","children","LoginForm","renderInput","input","label","placeholder","required","Field","name","component","SignupForm","connect","signup","defaultChatRoom","post","error","code","alert","keyValue","username","setItem","user","history","push","login","useState","activeForm","setActiveForm","handleSignup","handleLogin","updateCurrentForm","onClick","classNames","disabled","Home","profileIcon","width","height","viewBox","fill","xmlns","fillRule","d","chatsIcon","plusIcon","pencilIcon","IconButton","icon","activeIcon","MessageBubble","messageKey","timestamp","author","key","messageList","useRef","useEffect","newMessage","current","lastElementChild","newMessageStyles","getComputedStyle","newMessageMargin","parseInt","marginBottom","newMessageHeight","offsetHeight","visibleHeight","scrollHeight","scrollTop","autoscroll","length","ref","map","createdAt","moment","format","userId","MessageInput","onChange","socket","io","displayChatRooms","getState","chats","chat","on","returnMsg","ChatroomHeading","chatroomName","sendMessage","emit","joinChatRoom","userName","room","info","leaveChatRoom","fetchMessages","setMessage","activeChatRoom","setActiveChatRoom","e","preventDefault","target","Chat","ProfileCard","updateUser","logout","setModalDisplay","editing","setEditing","meta","touched","renderError","Card","Img","variant","src","avatar","Body","pick","ListGroup","Item","tabIndex","Footer","ConfirmationModal","modalConfig","modalDisplay","handleDelete","Modal","show","onHide","ModalHeader","closeButton","ModalTitle","title","ModalBody","ModalFooter","btnStyle","btnText","removeItem","patch","deleteUser","userDeleted","profileDisplay","SidebarForm","errorStyle","newRoomName","SidebarChatItem","chatroomName","setChatRoom","handleClose","to","pathname","createChatRoom","createdBy","closeChat","setNewRoomName","numChats","chatDisplay","renderChatroomList","Sidebar","setActiveIcon","renderSidebarContent","icons","setCurrentIcon","id","mapSidebarIcons","currentTarget","path","exact","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.635bd255.chunk.js","sourcesContent":["import {\r\n  CHECK_AUTH,\r\n  LOG_IN,\r\n  LOG_OUT,\r\n  UPDATE_USER,\r\n  SET_CHATROOM\r\n} from '../types'\r\n\r\n// Do not modify\r\nconst INITIAL_STATE = {\r\n  isLoggedIn: false,\r\n  _id: null,\r\n  token: null,\r\n  currentChatRoom: '5f52268b6d59e14df8174254',\r\n  data: {}\r\n}\r\n\r\nexport default (state=INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case CHECK_AUTH:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    case LOG_IN:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    case LOG_OUT:\r\n      return {\r\n        ...state,\r\n        ...INITIAL_STATE\r\n      };\r\n    case UPDATE_USER:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          ...action.payload\r\n        }\r\n      };\r\n    case SET_CHATROOM:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import _ from 'lodash'\r\nimport {\r\n  ADD_CHATROOM,\r\n  DISPLAY_CHATROOMS,\r\n  NEW_MESSAGE,\r\n  LOAD_MESSAGES,\r\n  CLOSE_CHAT, LOG_OUT\r\n} from '../types';\r\n\r\nconst INITIAL_STATE = [];\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch(action.type) {\r\n    case ADD_CHATROOM:\r\n      return {\r\n        ...state,\r\n        [action.payload._id]: {\r\n          ...action.payload\r\n        }\r\n      }\r\n    case DISPLAY_CHATROOMS:\r\n      return {\r\n        ...state,\r\n        ..._.mapKeys(action.payload, '_id')\r\n      }\r\n    case CLOSE_CHAT:\r\n      return {\r\n        ...state,\r\n        ..._.omit(state, action.payload)\r\n      }\r\n    case NEW_MESSAGE:\r\n      return {\r\n        ...state,\r\n        [action.payload.chatroomId]: {\r\n          ...state[action.payload.chatroomId],\r\n          messages: [\r\n            ...state[action.payload.chatroomId].messages,\r\n            action.payload.message\r\n          ]\r\n        }\r\n      }\r\n    case LOAD_MESSAGES:\r\n      return {\r\n        ...state,\r\n        [action.payload.chatroomId]: {\r\n          ...state[action.payload.chatroomId],\r\n          messages: [\r\n            ...action.payload.messages\r\n          ]\r\n        }\r\n      }\r\n    case LOG_OUT:\r\n      return {\r\n        ...state,\r\n        ...INITIAL_STATE\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport chatReducer from './chatReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  chatrooms: chatReducer,\r\n  form: formReducer\r\n});","// Chat Action Types\r\nexport const ADD_CHATROOM = 'ADD_CHATROOM';\r\nexport const DISPLAY_CHATROOMS = 'DISPLAY_CHATROOMS';\r\nexport const NEW_MESSAGE = 'NEW_MESSAGE';\r\nexport const LOAD_MESSAGES = 'LOAD_MESSAGES';\r\nexport const CLOSE_CHAT = 'CLOSE_CHAT';\r\n\r\n// Authorization Action Types\r\nexport const CHECK_AUTH = 'CHECK_AUTH';\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const LOG_OUT = 'LOG_OUT';\r\nexport const UPDATE_USER = 'UPDATE_USER';\r\nexport const SET_CHATROOM = 'SET_CHATROOM';","import { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\nimport reducers from \"../redux/reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import axios from 'axios';\r\nconsole.log('PROCESS.ENV', process.env.NODE_ENV)\r\nexport default axios.create({\r\n  baseURL: process.env.NODE_ENV === \"production\" ? 'https://dsc-whatschat.herokuapp.com/' : 'http://localhost:5500',\r\n  headers: {'Content-Security-Policy': \"default-src *\"}\r\n})","import api from \"../../../config/api\";\nimport history from \"../../../config/history\";\nimport {\n  CHECK_AUTH,\n  LOG_IN,\n  LOG_OUT,\n  UPDATE_USER,\n  SET_CHATROOM,\n} from \"../../types\";\n\n/* ----   CHECK_AUTH ACTION CREATOR    ---- */\nexport const checkAuth = () => async (dispatch) => {\n  const token = localStorage.getItem(\"jwt-token\");\n  if (!token) {\n    return dispatch({\n      type: \"CHECK_AUTH\",\n      payload: {\n        isLoggedIn: false,\n        token: null,\n      },\n    });\n  }\n\n  const response = await api.get(\"/user-id\", {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  dispatch({\n    type: CHECK_AUTH,\n    payload: {\n      _id: response.data._id,\n      token,\n      isLoggedIn: true,\n      data: response.data,\n    },\n  });\n  // history.push(`/MessagesDisplay/5f52268b6d59e14df8174254`);\n};\n/* ----   ****    ---- */\n\n/* ----   LOG_IN ACTION CREATOR    ---- */\nexport const login = (formValues) => async (dispatch) => {\n  console.log(\"login ran\");\n  const defaultChatRoom = \"5f52268b6d59e14df8174254\";\n  const response = await api.post(\"/login-user\", { ...formValues });\n\n  if (response.data.error) {\n    const error = response.data.error;\n    alert(`${error.message}`);\n    return;\n  }\n\n  localStorage.setItem(\"jwt-token\", response.data.token);\n\n  dispatch({\n    type: LOG_IN,\n    payload: {\n      _id: response.data.user._id,\n      token: response.data.token,\n      isLoggedIn: true,\n      data: response.data.user,\n    },\n  });\n\n  history.push(`/chats/${defaultChatRoom}`);\n};\n/* ----   ****    ---- */\n\n/* ----   LOG_OUT ACTION CREATOR    ---- */\nexport const logout = () => async (dispatch, getState) => {\n  const { token } = getState().auth;\n\n  await api.post(\n    \"/logout\",\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n  await localStorage.removeItem(\"jwt-token\");\n\n  dispatch({\n    type: LOG_OUT,\n  });\n\n  history.push(\"/\");\n};\n/* ----   ****    ---- */\n\n/* ----   SIGN_UP ACTION CREATOR    ---- */\nexport const signup = (formValues) => async (dispatch) => {\n  const defaultChatRoom = \"5f52268b6d59e14df8174254\";\n  const response = await api.post(\"/create-user\", { ...formValues });\n  console.log(response);\n  if (response.data.error) {\n    const error = response.data.error;\n    if (error.code === 11000) {\n      alert(\n        `The username \"${error.keyValue.username}\" has already been taken.`\n      );\n    }\n    return;\n  }\n\n  localStorage.setItem(\"jwt-token\", response.data.token);\n\n  dispatch({\n    type: CHECK_AUTH,\n    payload: {\n      _id: response.data.user._id,\n      token: response.data.token,\n      isLoggedIn: true,\n      data: response.data.user,\n    },\n  });\n\n  history.push(`/chats/${defaultChatRoom}`);\n};\n/* ----   ****    ---- */\n\n/* ----   UPDATE_USER ACTION CREATOR    ---- */\nexport const updateUser = (formValues) => async (dispatch, getState) => {\n  const { token } = getState().auth;\n  const response = await api.patch(\n    \"./user-update\",\n    { ...formValues },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  if (response.data.error) {\n    const error = response.data.error;\n    if (error.code === 11000) {\n      alert(\n        `The username \"${error.keyValue.username}\" has already been taken.`\n      );\n    }\n    return;\n  }\n\n  dispatch({\n    type: UPDATE_USER,\n    payload: response.data.user,\n  });\n};\n\n/* ----   ****    ---- */\n\n/* ----   DELETE_USER ACTION CREATOR    ---- */\nexport const deleteUser = () => async (dispatch, getState) => {\n  const { token } = getState().auth;\n  const response = await api.post(\n    \"/user-delete\",\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  if (response.data.userDeleted) {\n    await localStorage.removeItem(\"jwt-token\");\n    await dispatch({\n      type: LOG_OUT,\n    });\n    history.push(\"/\");\n  }\n};\n\n/* ----   ****    ---- */\n\n/* ----   SET_CHATROOM ACTION CREATOR    ---- */\nexport const setChatRoom = (currentChatRoom) => async (dispatch) => {\n  dispatch({\n    type: SET_CHATROOM,\n    payload: { currentChatRoom },\n  });\n};\n/* ----   ****    ---- */\n","import React from 'react';\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nconst RenderForm = (props) => {\r\n  const handleForm = formValues => {\r\n    const {initialValues} = props;\r\n\r\n    if (!initialValues) {\r\n      return props.handleForm(formValues);\r\n    }\r\n\r\n    const valuesToValidate = Object.keys(formValues)\r\n    if (valuesToValidate.some(value => formValues[value] === '')) {\r\n      props.reset();\r\n    }\r\n\r\n    let updateValues = {};\r\n    Object.keys(initialValues).forEach((value) => {\r\n       if (initialValues[value] !== formValues[value]) {\r\n         updateValues = { ...updateValues,  [value]: formValues[value] }\r\n       }\r\n    })\r\n    props.handleForm(updateValues);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit(handleForm)} className='form-signin mt-2'>\r\n      {props.children}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({ form: 'userForm' })(RenderForm);","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport { RenderForm } from \"../RenderForm\";\r\n\r\nexport const LoginForm = (props) => {\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className=\"text-white text-left my-2\">{label}</label>\r\n        <input\r\n          className=\"form-control\"\r\n          placeholder={label}\r\n          {...input}\r\n          type={type}\r\n          required\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleForm = (formValues) => {\r\n    props.handleForm(formValues);\r\n  };\r\n\r\n  return (\r\n    <RenderForm handleForm={handleForm}>\r\n      <div className=\"ui stacked element\">\r\n        <Field\r\n          name=\"username\"\r\n          component={renderInput}\r\n          label=\"Username\"\r\n          type=\"text\"\r\n        />\r\n        <Field\r\n          name=\"password\"\r\n          component={renderInput}\r\n          label=\"Password\"\r\n          type=\"password\"\r\n        />\r\n        <button className=\"btn btn-md btn-secondary btn-block my-4 mx-auto w-25\">\r\n          Submit\r\n        </button>\r\n      </div>\r\n      <div className=\"d-flex w-100 justify-content-center text-white\">\r\n        <div className=\"col\">\r\n          <p className=\"m-0 p-0\">Sample User Credentials</p>\r\n          <p className=\"m-0 p-0\">Username: sampleuser</p>\r\n          <p className=\"m-0 p-0\">Password: examplepass000</p>\r\n        </div>\r\n      </div>\r\n    </RenderForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport { RenderForm } from \"../RenderForm\";\r\n\r\nexport const SignupForm = (props) => {\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className=\"text-white text-left my-2\">{label}</label>\r\n        <input\r\n          className=\"form-control\"\r\n          type={type}\r\n          placeholder={label}\r\n          {...input}\r\n          required\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleForm = (formValues) => {\r\n    props.handleForm(formValues);\r\n  };\r\n\r\n  return (\r\n    <RenderForm handleForm={handleForm}>\r\n      <Field name=\"name\" component={renderInput} label=\"Name\" type=\"text\" />\r\n      <Field\r\n        name=\"username\"\r\n        component={renderInput}\r\n        label=\"Username\"\r\n        type=\"text\"\r\n      />\r\n      <Field name=\"email\" component={renderInput} label=\"Email\" type=\"email\" />\r\n      <Field\r\n        name=\"password\"\r\n        component={renderInput}\r\n        label=\"Password\"\r\n        type=\"password\"\r\n      />\r\n      <Field\r\n        name=\"passwordConf\"\r\n        component={renderInput}\r\n        label=\"Confirm Password\"\r\n        type=\"password\"\r\n      />\r\n      <button className=\"btn btn-md btn-secondary btn-block mt-4 mx-auto w-50\">\r\n        Submit\r\n      </button>\r\n    </RenderForm>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport classNames from \"classnames\";\r\nimport { login, signup } from \"../../redux/actions/auth\";\r\nimport { LoginForm } from \"../LoginForm\";\r\nimport { SignupForm } from \"../SignupForm\";\r\nimport \"./landing.css\";\r\n\r\nconst Landing = (props) => {\r\n  const [activeForm, setActiveForm] = useState(\"signup\");\r\n  const handleSignup = (formValues) => {\r\n    props.signup(formValues);\r\n  };\r\n\r\n  const handleLogin = (formValues) => {\r\n    props.login(formValues);\r\n  };\r\n\r\n  const updateCurrentForm = () => {\r\n    if (activeForm === \"signup\") {\r\n      setActiveForm(\"login\");\r\n    }\r\n    if (activeForm === \"login\") {\r\n      setActiveForm(\"signup\");\r\n    }\r\n  };\r\n\r\n  const renderForm = () => {\r\n    return activeForm === \"signup\" ? (\r\n      <SignupForm handleForm={handleSignup} />\r\n    ) : (\r\n      <LoginForm handleForm={handleLogin} />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"landing__area col\">\r\n      <div className=\"landing__container container pb-3 px-3 bg-dark\">\r\n        <div className=\"row mb-2\">\r\n          <div className=\"col p-0\">\r\n            <button\r\n              onClick={() => updateCurrentForm()}\r\n              className={classNames({\r\n                \"btn btn-large text-white w-100 p-3\": true,\r\n                \"btn-outline-dark\": activeForm === \"signup\",\r\n                \"btn-secondary\": activeForm === \"login\",\r\n              })}\r\n              disabled={activeForm === \"signup\"}\r\n            >\r\n              Sign Up Here!\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"col h-100 p-0\">\r\n            <button\r\n              onClick={() => updateCurrentForm()}\r\n              className={classNames({\r\n                \"btn btn-large text-white w-100 p-3\": true,\r\n                \"btn-outline-dark disabled\": activeForm === \"login\",\r\n                \"btn-secondary\": activeForm === \"signup\",\r\n              })}\r\n              disabled={activeForm === \"login\"}\r\n            >\r\n              Log In Here!\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {renderForm()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { signup, login })(Landing);\r\n","import React from \"react\";\r\nimport { Landing } from \"../components/Landing\";\r\n\r\nexport const Home = () => <Landing />;\r\n","import React from \"react\";\r\n\r\nexport const profileIcon = (\r\n  <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const chatsIcon = (\r\n  <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chat-right-text\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const avatarIcon = (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const plusIcon = (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-plus-square\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const pencilIcon = (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-pencil\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\r\n  </svg>\r\n)","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { profileIcon, chatsIcon } from \"../../icons/icons\";\r\nimport \"./iconButton.css\";\r\n\r\nexport const IconButton = (props) => {\r\n  const renderIcon = () => {\r\n    if (props.icon === \"profile\") {\r\n      return profileIcon;\r\n    }\r\n    if (props.icon === \"chats\") {\r\n      return chatsIcon;\r\n    }\r\n  };\r\n  return (\r\n    <button\r\n      className={classNames(\"nav__icon\", {\r\n        \"icon__button-active\": props.icon === props.activeIcon,\r\n        \"\": props.icon !== props.activeIcon,\r\n      })}\r\n      disabled={props.icon === props.activeIcon}\r\n    >\r\n      {renderIcon()}\r\n    </button>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React from 'react';\r\nimport \"./messageBubble.css\"\r\n/* ------ */\r\n\r\n\r\nexport const MessageBubble = ({ type, messageKey, timestamp, author, message }) => {\r\n  return (\r\n    <li key={messageKey} className={`message message__${type}`}>\r\n      <div className={`message__container message__container-${type}`}>\r\n        <div className={`message__content`}>\r\n          <div className={`message__row message__row-body`}>\r\n            <p className='message__text message__text-author' >\r\n              {author}\r\n            </p>\r\n            <p className='message__text message__text-message'>\r\n              {message}\r\n            </p>\r\n          </div>\r\n          <div className={`message__row message__row-footer`}>\r\n            <div className='message__timestamp'>\r\n              {timestamp}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\n\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autoscroll, formatTimestamp } from \"../../utils\";\r\nimport { MessageBubble } from \"../MessageBubble\";\r\nimport \"./messagesDisplay.css\";\r\n\r\nconst MessagesDisplay = ({ messages, auth }) => {\r\n  const messageList = useRef(null);\r\n  useEffect(() => autoscroll(messageList), [messages.length]);\r\n\r\n  const renderMessages = () => {\r\n    const messageKeysArray = Object.keys(messages);\r\n    return messageKeysArray.map((messageKey) => {\r\n      const timestamp = formatTimestamp(messages[messageKey].createdAt);\r\n      if (messages[messageKey].author === \"systemManager\") {\r\n        return (\r\n          <MessageBubble\r\n            key={messageKey}\r\n            type=\"system\"\r\n            timestamp={timestamp}\r\n            author={messages[messageKey].author}\r\n            message={messages[messageKey].message}\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <MessageBubble\r\n            key={messageKey}\r\n            type={messages[messageKey].userId !== auth._id ? \"rec\" : \"sent\"}\r\n            timestamp={timestamp}\r\n            author={messages[messageKey].author}\r\n            message={messages[messageKey].message}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatroom__content\">\r\n      <ul\r\n        className=\"message__display message__display-scroll \"\r\n        ref={messageList}\r\n      >\r\n        {messages ? (\r\n          renderMessages()\r\n        ) : (\r\n          <div className=\"text-white\">Send a message!!</div>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(MessagesDisplay);\r\n","export const autoscroll = (messageList) => {\r\n  // new message element\r\n  const newMessage = messageList.current.lastElementChild;\r\n\r\n  if (!newMessage) {return};\r\n\r\n  // get the height of the newMessage\r\n  const newMessageStyles = getComputedStyle(newMessage.lastElementChild);\r\n  const newMessageMargin = parseInt(newMessageStyles.marginBottom);\r\n  const newMessageHeight = messageList.current.offsetHeight + newMessageMargin;\r\n\r\n  // get the visible height\r\n  const visibleHeight = messageList.current.offsetHeight;\r\n\r\n  // get the message container height\r\n  const contentHeight = messageList.current.scrollHeight;\r\n\r\n  // Current scroll location\r\n  const scrollOffset = messageList.current.scrollTop + visibleHeight;\r\n\r\n  if (contentHeight - newMessageHeight <= scrollOffset) {\r\n    // this will set the scroll top position to the maximum scroll top value being the bottom of the page\r\n    messageList.current.scrollTop = messageList.current.scrollHeight;\r\n  }\r\n};","import moment from \"moment\";\r\n\r\nexport const formatTimestamp = (createdAt) => {\r\n  return moment(createdAt).format('h:mm A');\r\n}","/* IMPORTS */\nimport React from \"react\";\nimport \"./messageInput.css\";\n/* ------ */\n\nexport const MessageInput = ({ message, onSubmit, onChange }) => {\n  return (\n    <div className=\"chatroom__message\">\n      <form className=\"new-message__form\" onSubmit={onSubmit}>\n        <div className=\"message-form__row\">\n          <div className=\"message-form__col message-form__col-input\">\n            <input\n              className=\"message-form__input form-control\"\n              placeholder=\"Message...\"\n              type=\"text\"\n              value={message}\n              onChange={onChange}\n            />\n          </div>\n          <div className=\"message-form__col message-form__col-cta\">\n            <button className=\"message-form__cta button\">Send</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n","import io from 'socket.io-client';\r\nlet socket = process.env.NODE_ENV === \"production\" ? io() : io('http://localhost:5500');\r\n\r\nexport { socket };","import api from \"../../../config/api\";\nimport { store } from \"../../../config/store\";\nimport history from \"../../../config/history\";\nimport { socket } from \"../../../socket\";\nimport {\n  DISPLAY_CHATROOMS,\n  NEW_MESSAGE,\n  LOAD_MESSAGES,\n  CLOSE_CHAT,\n  ADD_CHATROOM,\n} from \"../../types\";\n\n/* ----   ADD_CHATROOM ACTION CREATOR    ---- */\nexport const createChatRoom = (name, userId) => async (dispatch) => {\n  try {\n    const { data } = await api.post(\"/create-chatroom\", {\n      name,\n      createdBy: userId,\n    });\n    dispatch({\n      type: ADD_CHATROOM,\n      payload: { ...data.chat, messages: [] },\n    });\n    history.push(`/chats/${data.chat._id}`);\n  } catch (e) {\n    dispatch({\n      type: \"ERROR\",\n      error: \"Invalid Name\",\n    });\n  }\n};\n/* ----   ****    ---- */\n\n/* ----   DISPLAY_CHATROOMS ACTION CREATOR    ---- */\nexport const displayChatRooms = () => async (dispatch, getState) => {\n  try {\n    const { data } = await api.get(\"/MessagesDisplay\");\n    const chatrooms = data.chats.map((chat) => {\n      const messages =\n        getState().chatrooms.length !== 0\n          ? getState().chatrooms[chat._id].messages\n          : [];\n      return { ...chat, messages: [...messages] };\n    });\n    console.log(\"chatrooms\", chatrooms);\n    dispatch({\n      type: DISPLAY_CHATROOMS,\n      payload: { ...chatrooms },\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\n/* ----   ****    ---- */\n\n/* ----   JOIN_CHATROOM ACTION CREATOR    ---- */\nexport const joinChatRoom = (chatroomId, userName) => async (dispatch) => {\n  socket.emit(\"join\", { room: chatroomId, userName: userName }, (room) => {\n    console.info(`connected to ${room}`);\n  });\n};\n/* ----   ****    ---- */\n\n/* ----   LEAVE_CHATROOM ACTION CREATOR    ---- */\nexport const leaveChatRoom = (chatroomId, userName) => async (dispatch) => {\n  socket.emit(\"leave\", { room: chatroomId, userName: userName }, (room) => {\n    console.log(`leaving ${room}`);\n  });\n};\n/* ----   ****    ---- */\n\n/* ----   CLOSE_CHATROOM ACTION CREATOR    ---- */\nexport const closeChat = (chatroomId) => async (dispatch) => {\n  socket.emit(\"leave\", { room: chatroomId });\n  dispatch({\n    type: CLOSE_CHAT,\n    payload: chatroomId,\n  });\n};\n/* ----   ****    ---- */\n\n/* ----   FETCH_MESSAGES ACTION CREATOR    ---- */\nexport const fetchMessages = (chatroomId) => async (dispatch) => {\n  const { data } = await api.get(`/messages?chatroomId=${chatroomId}`);\n  dispatch({\n    type: LOAD_MESSAGES,\n    payload: { chatroomId, messages: data.messages },\n  });\n};\n/* ----   ****    ---- */\n\n/* ----   NEW_MESSAGE ACTION CREATOR    ---- */\nexport const sendMessage =\n  ({ chatroomId, message, userId, author }) =>\n  async (dispatch) => {\n    console.log(\"send message ran\");\n    console.log(chatroomId);\n    socket.emit(\"message\", { chatroomId, message, userId, author });\n  };\n\nconst dispatchMessage = (messageType, message) => {\n  return {\n    type: messageType,\n    payload: { chatroomId: message.chatroomId, message: message },\n  };\n};\n\nsocket.on(\"return-message\", (returnMsg) => {\n  store.dispatch(dispatchMessage(NEW_MESSAGE, returnMsg));\n});\n/* ----   ****    ---- */\n\n// Currently Unused System Actions\n// socket.on(\n//   'system-welcome',\n//   ({userName, chatroomId, type} ) => {\n//     console.log('welcome ran')\n//     return socket.emit('message', {\n//       chatroomId,\n//       message: `${type} ${userName}.`,\n//       userId: null,\n//       author: 'systemManager'\n//     })\n//   }\n// )\n//\n// socket.on(\n//   'system-join',\n//   ({ userName, type, chatroomId }) => {\n//     console.log('join ran')\n//     socket.emit('message', {\n//       chatroomId,\n//       message: `${userName} has ${type}.`,\n//       userId: null,\n//       author: 'systemManager'\n//     })\n//   }\n// )\n//\n// socket.on('system-leave',\n//   ({ userName, type, chatroomId }) => {\n//   console.log('leave ran')\n//     socket.emit('message', {\n//       chatroomId,\n//       message: `${userName} has ${type}.`,\n//       userId: null,\n//       author: 'systemManager'\n//     })\n//   }\n// )\n","/* IMPORTS */\r\nimport React from \"react\";\r\nimport \"./chatroomHeading.css\";\r\n/* ------ */\r\n\r\nexport const ChatroomHeading = ({ chatroomName }) => {\r\n  return (\r\n    <div className=\"chatroom__heading\">\r\n      <h2 className=\"chatroom__title\">{chatroomName}</h2>\r\n    </div>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { MessagesDisplay } from \"../MessagesDisplay\";\r\nimport { MessageInput } from \"../MessageInput\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  displayChatRooms,\r\n  fetchMessages,\r\n  joinChatRoom,\r\n  leaveChatRoom,\r\n  sendMessage,\r\n} from \"../../redux/actions/chat\";\r\nimport { checkAuth } from \"../../redux/actions/auth\";\r\nimport { ChatroomHeading } from \"../ChatroomHeading\";\r\nimport \"./chatroomDisplay.css\";\r\n/* ------ */\r\n\r\nconst ChatroomDisplay = ({\r\n  chatrooms,\r\n  auth,\r\n  sendMessage,\r\n  joinChatRoom,\r\n  leaveChatRoom,\r\n  fetchMessages,\r\n}) => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [activeChatRoom, setActiveChatRoom] = useState(auth.currentChatRoom);\r\n\r\n  // Update the current chatroom\r\n  useEffect(() => {\r\n    console.log(auth.data.name);\r\n    leaveChatRoom(activeChatRoom, auth.data.name);\r\n    joinChatRoom(auth.currentChatRoom, auth.data.name);\r\n    setActiveChatRoom(auth.currentChatRoom);\r\n  }, [auth.data.name, activeChatRoom, auth.currentChatRoom, joinChatRoom]);\r\n\r\n  // fetch messages for current chatroom\r\n  useEffect(() => {\r\n    if (chatrooms[activeChatRoom].messages.length < 1) {\r\n      fetchMessages(activeChatRoom);\r\n    }\r\n  }, [activeChatRoom]);\r\n\r\n  const onChange = (e) => {\r\n    setMessage(e.target.value);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    sendMessage({\r\n      message,\r\n      chatroomId: auth.currentChatRoom,\r\n      userId: auth._id,\r\n      author: auth.data.username,\r\n    });\r\n    setMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatroom__display\">\r\n      <div className=\"chatroom__container\">\r\n        <ChatroomHeading chatroomName={chatrooms[activeChatRoom].name} />\r\n        <MessagesDisplay messages={chatrooms[activeChatRoom].messages} />\r\n        <MessageInput\r\n          message={message}\r\n          onSubmit={onSubmit}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    defaultChatRoom: state.chatrooms.defaultChatRoom,\r\n    chatrooms: state.chatrooms,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  sendMessage,\r\n  checkAuth,\r\n  joinChatRoom,\r\n  leaveChatRoom,\r\n  fetchMessages,\r\n  displayChatRooms,\r\n})(ChatroomDisplay);\r\n","import React from 'react';\r\nimport { ChatroomDisplay } from \"../components/ChatroomDisplay\";\r\n\r\nexport const Chat = () => <ChatroomDisplay />\r\n\r\n\r\n\r\n","/* IMPORTS */\nimport React, { useState } from \"react\";\nimport { pencilIcon } from \"../../icons/icons\";\nimport Card from \"react-bootstrap/Card\";\nimport { RenderForm } from \"../RenderForm\";\nimport _ from \"lodash\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { Field } from \"redux-form\";\nimport moment from \"moment\";\nimport \"./profileCard.css\";\n/* ------ */\n\nexport const ProfileCard = ({ auth, updateUser, logout, setModalDisplay }) => {\n  const [editing, setEditing] = useState(\"\");\n\n  const handleForm = (formValues) => {\n    updateUser(formValues);\n    setEditing(\"\");\n  };\n\n  const renderError = ({ error, touched }) => {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  };\n\n  const renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\n    return (\n      <div className={`row__content ${className}`}>\n        <div className=\"content__col content__col-label\">\n          <label className=\"profile__label\">{label}</label>\n        </div>\n        <div className=\"content__col content__col-input\">\n          {editing === label ? (\n            <input className=\"profile__input form-control\" {...input} />\n          ) : (\n            <input\n              className=\"profile__input-placeholder form-control-plaintext\"\n              {...input}\n            />\n          )}\n        </div>\n        <div className=\"content__col content__col-cta\">\n          <div onClick={() => setEditing(label)} className=\"profile__cta-edit\">\n            {pencilIcon}\n          </div>\n        </div>\n        {renderError(meta)}\n      </div>\n    );\n  };\n\n  return (\n    <Card className=\"profile__card\">\n      <Card.Img\n        className=\"profile__avatar\"\n        variant=\"top\"\n        src={`data:image/png;base64,${auth.data.avatar}`}\n      />\n      <Card.Body className=\"profile__body\">\n        <RenderForm\n          handleForm={handleForm}\n          initialValues={_.pick(\n            auth.data,\n            \"name\",\n            \"username\",\n            \"email\",\n            \"password\"\n          )}\n        >\n          <ListGroup className=\"profile__content\" variant=\"flush\">\n            <ListGroup.Item className=\"profile__row\">\n              <Field name=\"name\" component={renderInput} label=\"Name:\" />\n            </ListGroup.Item>\n            <ListGroup.Item className=\"profile__row\">\n              <Field\n                name=\"username\"\n                component={renderInput}\n                label=\"Username:\"\n              />\n            </ListGroup.Item>\n            <ListGroup.Item className=\"profile__row\">\n              <Field name=\"email\" component={renderInput} label=\"Email:\" />\n            </ListGroup.Item>\n            <ListGroup.Item className=\"profile__row\">\n              <Field\n                name=\"password\"\n                component={renderInput}\n                label=\"Password:\"\n              />\n            </ListGroup.Item>\n\n            <input type=\"submit\" className=\"profile__submit\" tabIndex=\"-1\" />\n          </ListGroup>\n        </RenderForm>\n      </Card.Body>\n      <Card.Footer className=\"profile__footer\">\n        <ListGroup className=\"profile__row\" variant=\"flush\">\n          <ListGroup.Item className=\"profile__row\">\n            <div className=\"row justify-content-around\">\n              <div className=\"col text-center\">\n                User Since: {moment(auth.data.createdAt).format(\"MMM 'YY\")}\n              </div>\n            </div>\n          </ListGroup.Item>\n          <ListGroup.Item className=\"profile__row\">\n            <button\n              onClick={() => logout()}\n              className=\"profile__cta profile__cta-logout button\"\n            >\n              Log Out\n            </button>\n          </ListGroup.Item>\n          <ListGroup.Item className=\"profile__row\">\n            <button\n              onClick={() => setModalDisplay(true)}\n              className=\"profile__cta profile__cta-delete button\"\n              disabled={auth.data._id === \"5f637fdd0a41ae691c828e50\"}\n            >\n              Delete Account\n            </button>\n          </ListGroup.Item>\n        </ListGroup>\n      </Card.Footer>\n    </Card>\n  );\n};\n","import React from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalFooter from \"react-bootstrap/ModalFooter\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\n\r\nexport const ConfirmationModal = ({\r\n  modalConfig,\r\n  setModalDisplay,\r\n  modalDisplay,\r\n  handleDelete,\r\n}) => {\r\n  const handleDeleteClick = () => {\r\n    setModalDisplay(false);\r\n    handleDelete();\r\n  };\r\n\r\n  if (modalDisplay) {\r\n    return (\r\n      <Modal show={modalDisplay} onHide={() => setModalDisplay(false)}>\r\n        <ModalHeader closeButton>\r\n          <ModalTitle>{modalConfig.title}</ModalTitle>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <p>{modalConfig.message}</p>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <button\r\n            onClick={() => setModalDisplay(false)}\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => handleDeleteClick()}\r\n            className={`btn btn-${modalConfig.btnStyle}`}\r\n          >\r\n            {modalConfig.btnText}\r\n          </button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n  return <></>;\r\n};\r\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ProfileCard } from \"../ProfileCard\";\nimport { ConfirmationModal } from \"../ConfirmationModal\";\nimport { logout, updateUser, deleteUser } from \"../../redux/actions/auth\";\nimport \"./sidebarProfile.css\";\n\nconst SidebarProfile = ({ auth, logout, updateUser, deleteUser }) => {\n  const [modalDisplay, setModalDisplay] = useState(false);\n  const deleteAccountModalConfig = {\n    title: \"Delete Account\",\n    message: \"Are you sure you want to delete your account?\",\n    btnText: \"Delete\",\n    btnStyle: \"danger\",\n  };\n\n  const handleDelete = () => {\n    deleteUser();\n  };\n\n  const profileDisplay = auth.isLoggedIn ? (\n    <ProfileCard\n      auth={auth}\n      updateUser={updateUser}\n      logout={logout}\n      setModalDisplay={setModalDisplay}\n    />\n  ) : (\n    <div className=\"text-white\">Log in to see your profile</div>\n  );\n\n  return (\n    <div className=\"sidebar__profile\">\n      {profileDisplay}\n      <ConfirmationModal\n        modalConfig={deleteAccountModalConfig}\n        setModalDisplay={setModalDisplay}\n        modalDisplay={modalDisplay}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n  };\n};\n\nexport default connect(mapStateToProps, { logout, updateUser, deleteUser })(\n  SidebarProfile\n);\n","import React from \"react\";\r\nimport { plusIcon } from \"../../icons/icons\";\r\nimport \"./sidebarForm.css\";\r\n\r\nexport const SidebarForm = (props) => {\r\n  const onChange = (e) => {\r\n    props.onChange(e);\r\n  };\r\n\r\n  const handleForm = (e) => {\r\n    props.handleForm(e);\r\n  };\r\n\r\n  const errorStyle =\r\n    props.newRoomName.length < 5 && props.newRoomName.length !== 0\r\n      ? \"is-invalid\"\r\n      : null;\r\n\r\n  return (\r\n    <form className=\"sidebar__form\" onSubmit={handleForm}>\r\n      <div className=\"sidebar__form_col sidebar__form_col-start\">\r\n        <input\r\n          onChange={onChange}\r\n          className={`sidebar__form_input form-control ${errorStyle}`}\r\n          type=\"text\"\r\n          placeholder={\"Start new chat\"}\r\n          name=\"chatForm\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"sidebar__form_col sidebar__form_col-end\">\r\n        <button type=\"submit\" className=\"sidebar__cta-new\">\r\n          {plusIcon}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React from \"react\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { profileIcon } from \"../../icons/icons\";\r\nimport \"./sidebarChatItem.css\";\r\n/* ------ */\r\n\r\nexport const SidebarChatItem = ({\r\n  chatroomId,\r\n  chatroomName,\r\n  setChatRoom,\r\n  handleClose,\r\n}) => {\r\n  console.log(chatroomId, chatroomName);\r\n  return (\r\n    <ListGroup.Item className=\"list__item\">\r\n      <div className=\"item__col\">\r\n        <Link\r\n          onClick={() => setChatRoom(chatroomId)}\r\n          className=\"item__link\"\r\n          to={{\r\n            pathname: `/chats/${chatroomId}`,\r\n          }}\r\n        >\r\n          <div className=\"link__icon\">{profileIcon}</div>\r\n          <div className=\"link__name\">\r\n            <div className=\"link__text\">{chatroomName}</div>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"item__col item__col-cta\">\r\n        <button onClick={() => handleClose(chatroomId)} className=\"item__cta\">\r\n          &#128473;\r\n        </button>\r\n      </div>\r\n    </ListGroup.Item>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { setChatRoom } from \"../../redux/actions/auth\";\nimport {\n  createChatRoom,\n  displayChatRooms,\n  closeChat,\n} from \"../../redux/actions/chat\";\nimport { SidebarForm } from \"../SidebarForm\";\nimport { SidebarChatItem } from \"../SidebarChatItem\";\nimport \"./SidebarChats.css\";\n\nconst SidebarChats = ({\n  auth,\n  chatrooms,\n  displayChatRooms,\n  createChatRoom,\n  closeChat,\n  setChatRoom,\n}) => {\n  const [newRoomName, setNewRoomName] = useState(\"\");\n  const numChats = Object.keys(chatrooms).length;\n  useEffect(() => {\n    if (auth.token) {\n      displayChatRooms();\n    }\n  }, [numChats, auth.token, displayChatRooms]);\n\n  const onChange = (e) => {\n    setNewRoomName(e.target.value);\n  };\n\n  const handleClose = (key) => {\n    closeChat(key);\n  };\n\n  const handleForm = (e) => {\n    e.preventDefault();\n    if (newRoomName.length >= 5) {\n      createChatRoom(newRoomName, auth._id);\n      setNewRoomName(\"\");\n    }\n  };\n\n  const renderChatroomList = () => {\n    if (chatrooms === {}) {\n      return;\n    }\n    return Object.keys(chatrooms).map((key) => {\n      return (\n        <SidebarChatItem\n          key={chatrooms[key]._id}\n          chatroomId={chatrooms[key]._id}\n          chatroomName={chatrooms[key].name}\n          setChatRoom={setChatRoom}\n          handleClose={handleClose}\n        />\n      );\n    });\n  };\n\n  const renderChats = () => {\n    return (\n      <ListGroup className=\"chatroom__list\">\n        <ListGroup.Item className=\"list__item list__item-new\">\n          <SidebarForm\n            handleForm={handleForm}\n            onChange={onChange}\n            newRoomName={newRoomName}\n          />\n        </ListGroup.Item>\n        {renderChatroomList()}\n      </ListGroup>\n    );\n  };\n\n  const chatDisplay = auth.isLoggedIn ? (\n    renderChats()\n  ) : (\n    <div className=\"text-white\">Log in to see chatrooms</div>\n  );\n\n  return <div className=\"chatroom__list\">{chatDisplay}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    chatrooms: state.chatrooms,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createChatRoom,\n  displayChatRooms,\n  closeChat,\n  setChatRoom,\n})(SidebarChats);\n","import React, { useState, useEffect } from \"react\";\r\nimport { SidebarProfile } from \"../SidebarProfile\";\r\nimport { SidebarChats } from \"../SidebarChats\";\r\nimport { mapSidebarIcons } from \"../../utils\";\r\nimport \"./sidebar.css\";\r\nconst Sidebar = ({ auth }) => {\r\n  const [activeIcon, setActiveIcon] = useState(\"chats\");\r\n  const icons = [\"profile\", \"chats\"];\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setActiveIcon(\"chats\");\r\n    };\r\n  }, [auth]);\r\n\r\n  const setCurrentIcon = (e) =>\r\n    e.currentTarget.id === \"profile-cta\"\r\n      ? setActiveIcon(\"profile\")\r\n      : setActiveIcon(\"chats\");\r\n\r\n  const renderSidebarContent =\r\n    activeIcon === \"chats\" ? <SidebarChats /> : <SidebarProfile />;\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <nav className=\"sidebar__nav\">\r\n        <ul className=\"nav__list list-unstyled components\">\r\n          {mapSidebarIcons({ icons, setCurrentIcon, activeIcon })}\r\n        </ul>\r\n      </nav>\r\n      <div className=\"sidebar__content\">\r\n        <div className=\"sidebar__row py-4\">\r\n          <h2 className=\"sidebar__title\">WhatsChat</h2>\r\n        </div>\r\n        <div className=\"sidebar__row\">{renderSidebarContent}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import { IconButton } from \"../components/IconButton\";\r\nimport React from \"react\";\r\n\r\nexport const mapSidebarIcons = ({ icons, setCurrentIcon, activeIcon }) =>\r\n  icons.map((icon) => {\r\n    return (\r\n      <li\r\n        id={`${icon}-cta`}\r\n        key={icon}\r\n        className={`nav__item ${\r\n          activeIcon === icon ? \"nav__item-active\" : \"\"\r\n        } nav-item`}\r\n        onClick={(e) => setCurrentIcon(e)}\r\n      >\r\n        <IconButton icon={icon} activeIcon={activeIcon} />\r\n      </li>\r\n    );\r\n  });\r\n","import React, { useEffect } from \"react\";\nimport { Redirect, Router, Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport history from \"./config/history\";\nimport { checkAuth } from \"./redux/actions/auth\";\nimport { Home, Chat } from \"./pages\";\nimport { Sidebar } from \"./components/Sidebar\";\nimport { displayChatRooms } from \"./redux/actions/chat\";\nimport \"./styles/bootstrap.min.css\";\nimport \"./styles/root.css\";\n\nconst App = ({ auth, checkAuth, displayChatRooms }) => {\n  useEffect(() => {\n    if (!auth.token) {\n      checkAuth();\n      displayChatRooms();\n    }\n  }, [auth.token, checkAuth, displayChatRooms]);\n\n  return (\n    <div className=\"display wrapper\">\n      <Router history={history}>\n        <>\n          <Sidebar auth={auth.isLoggedIn} />\n          <Switch>\n            <Route path=\"/\" exact>\n              {auth.isLoggedIn ? (\n                <Redirect to={`/chats/${auth.currentChatRoom}`} />\n              ) : (\n                <Home />\n              )}\n            </Route>\n            <Route path=\"/chats\">\n              {auth.isLoggedIn ? <Chat /> : <Redirect to=\"/\" />}\n            </Route>\n          </Switch>\n        </>\n      </Router>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n  };\n};\n\nexport default connect(mapStateToProps, { checkAuth, displayChatRooms })(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./config/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}