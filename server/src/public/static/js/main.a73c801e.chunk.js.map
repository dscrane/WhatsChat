{"version":3,"sources":["utils/log.js","redux/reducers/authReducer.js","redux/reducers/chatReducer.js","redux/reducers/index.js","redux/types.js","config/store.js","config/history.js","config/api.js","redux/actions/authActions.js","components/RenderForm/RenderForm.jsx","components/LoginForm/LoginForm.jsx","components/SignupForm/SignupForm.jsx","components/Landing/Landing.jsx","pages/Home.jsx","icons/icons.jsx","components/IconButton/IconButton.jsx","components/MessageBubble/MessageBubble.jsx","components/MessagesDisplay/MessagesDisplay.jsx","utils/autoScroll.js","utils/formatTimestamp.js","components/MessageInput/MessageInput.jsx","socket.io/emitters.js","components/ChatroomHeading/ChatroomHeading.jsx","components/ChatroomDisplay/ChatroomDisplay.jsx","redux/actions/chatActions.js","pages/Chat.jsx","components/ProfileCard/ProfileCard.jsx","components/ConfirmationModal/ConfirmationModal.jsx","components/SidebarProfile/SidebarProfile.jsx","components/SidebarForm/SidebarForm.jsx","components/SidebarContextMenu/SidebarContextMenu.jsx","components/SidebarChatItem/SidebarChatItem.jsx","components/SidebarChats/SidebarChats.jsx","components/Sidebar/Sidebar.jsx","utils/mapSidebarIcons.js","App.jsx","index.js"],"names":["log","reducer","console","group","info","groupEnd","INITIAL_STATE","isLoggedIn","_id","token","currentChatroom","data","socket","combineReducers","auth","state","action","type","payload","chatrooms","name","_","mapKeys","chatroomName","messages","message","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","createBrowserHistory","process","axios","create","baseURL","headers","setChatroom","dispatch","a","setSocket","reduxForm","props","onSubmit","handleSubmit","formValues","initialValues","handleForm","Object","keys","some","value","reset","updateValues","forEach","className","children","LoginForm","renderInput","input","label","placeholder","required","Field","component","SignupForm","connect","signup","defaultChatroom","api","post","response","error","code","alert","keyValue","username","localStorage","setItem","user","history","push","login","useState","activeForm","setActiveForm","handleSignup","handleLogin","io","updateCurrentForm","onClick","classNames","disabled","Home","profileIcon","width","height","viewBox","fill","xmlns","fillRule","d","chatsIcon","plusIcon","pencilIcon","threeDotIcon","IconButton","icon","activeIcon","MessageBubble","messageKey","timestamp","author","key","messageList","useRef","useEffect","newMessage","current","lastElementChild","newMessageStyles","getComputedStyle","newMessageMargin","parseInt","marginBottom","newMessageHeight","offsetHeight","visibleHeight","scrollHeight","scrollTop","autoscroll","length","ref","map","createdAt","moment","format","userId","MessageInput","onChange","joinChatroomEmitter","newChatroomName","oldChatroomName","userName","emit","ack","rejoinChatroomEmitter","ChatroomHeading","setMessage","e","messageData","preventDefault","target","displayChatrooms","getState","get","chats","chat","closeChatroom","omit","createChatroom","chatroom","renderNewMessage","renderMessages","on","fetchMessagesEmitter","ProfileCard","updateUser","logout","setModalDisplay","editing","setEditing","meta","touched","renderError","Card","Img","variant","src","avatar","Body","pick","ListGroup","Item","tabIndex","Footer","ConfirmationModal","modalConfig","modalDisplay","handleDelete","Modal","show","onHide","ModalHeader","closeButton","ModalTitle","title","ModalBody","ModalFooter","btnStyle","btnText","Authorization","removeItem","patch","deleteUser","userDeleted","profileDisplay","SidebarForm","errorStyle","newRoomName","SidebarContextMenu","handleClose","handleLeave","chatroomId","CustomToggle","React","forwardRef","href","Dropdown","Toggle","as","id","Menu","Divider","SidebarChatItem","handleClick","to","pathname","setNewRoomName","numChats","leaveChatroomEmitter","deleteChatroomEmitter","chatDisplay","renderChatroomList","Sidebar","setActiveIcon","renderSidebarContent","icons","setCurrentIcon","mapSidebarIcons","currentTarget","checkAuth","getItem","path","exact","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.a73c801e.chunk.js","sourcesContent":["const io = (log, data = \" \") =>\n  console.info(log, \"color: orange\", \"color: white\", \"color: yellow\", data);\n\nconst player = (log, data) => console.info(log, \"color: cyan\", data);\n\nconst emit = (log) => console.group(\"%c[IO_em]: \", \"color: coral\", log);\n\nconst ack = (log) => {\n  console.info(\n    `%c[IO_ack]: ${log}`,\n    \"color: lightsalmon\",\n    \"color: white\",\n    \"color: yellow\",\n    \"color: white\"\n  );\n  console.groupEnd();\n};\n\nconst reducer = (reducer, log) => {\n  console.log(`%c[${reducer}]:`, \"color: lightblue\", log);\n};\n\nexport const log = {\n  io,\n  reducer,\n  player,\n  emit,\n  ack,\n};\n","import {\n  CHECK_AUTH,\n  LOG_IN,\n  LOG_OUT,\n  UPDATE_USER,\n  SET_CHATROOM,\n  SET_SOCKET,\n} from \"../types\";\nimport { log } from \"../../utils/log\";\n\n// Do not modify\nconst INITIAL_STATE = {\n  isLoggedIn: false,\n  _id: null,\n  token: null,\n  currentChatroom: \"Buddies\",\n  data: {},\n  socket: null,\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CHECK_AUTH:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case LOG_IN:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case LOG_OUT:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        ...INITIAL_STATE,\n      };\n    case UPDATE_USER:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          ...action.payload,\n        },\n      };\n    case SET_CHATROOM:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case SET_SOCKET:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        socket: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import _ from \"lodash\";\nimport {\n  ADD_CHATROOM,\n  DISPLAY_CHATROOMS,\n  RENDER_NEW_MESSAGE,\n  RENDER_MESSAGES,\n  LOG_OUT,\n} from \"../types\";\nimport { log } from \"../../utils/log\";\n\nconst INITIAL_STATE = [];\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case ADD_CHATROOM:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        [action.payload.name]: {\n          ...action.payload,\n        },\n      };\n    case DISPLAY_CHATROOMS:\n      log.reducer(action.type, action.payload);\n      return {\n        ..._.mapKeys(action.payload, \"name\"),\n      };\n    case RENDER_NEW_MESSAGE:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        [action.payload.chatroomName]: {\n          ...state[action.payload.chatroomName],\n          messages: [\n            ...state[action.payload.chatroomName].messages,\n            action.payload.message,\n          ],\n        },\n      };\n    case RENDER_MESSAGES:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        [action.payload.chatroomName]: {\n          ...state[action.payload.chatroomName],\n          messages: [...action.payload.messages],\n        },\n      };\n    case LOG_OUT:\n      log.reducer(action.type, action.payload);\n      return {\n        ...state,\n        ...INITIAL_STATE,\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { reducer as formReducer } from \"redux-form\";\nimport authReducer from \"./authReducer\";\nimport chatReducer from \"./chatReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n  chatrooms: chatReducer,\n  form: formReducer,\n});\n","// Chat Action Types\nexport const ADD_CHATROOM = \"ADD_CHATROOM\";\nexport const DISPLAY_CHATROOMS = \"DISPLAY_CHATROOMS\";\nexport const RENDER_NEW_MESSAGE = \"RENDER_NEW_MESSAGE\";\nexport const RENDER_MESSAGES = \"RENDER_MESSAGES\";\nexport const CLOSE_CHAT = \"CLOSE_CHAT\";\n\n// Authorization Action Types\nexport const CHECK_AUTH = \"CHECK_AUTH\";\nexport const LOG_IN = \"LOG_IN\";\nexport const LOG_OUT = \"LOG_OUT\";\nexport const UPDATE_USER = \"UPDATE_USER\";\nexport const SET_CHATROOM = \"SET_CHATROOM\";\nexport const SET_SOCKET = \"SET_SOCKET\";\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\nimport reducers from \"../redux/reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import axios from \"axios\";\nconsole.log(\"PROCESS.ENV\", process.env.NODE_ENV);\nexport default axios.create({\n  baseURL:\n    process.env.NODE_ENV === \"production\"\n      ? \"https://dsc-whatschat.herokuapp.com/\"\n      : \"http://localhost:5500\",\n  headers: {\n    \"Access-Control-Allow-Origin\": \"http://localhost:5500/*\",\n    \"Content-Security-Policy\": \"default-src *\",\n  },\n});\n","import api from \"../../config/api\";\nimport history from \"../../config/history\";\nimport {\n  CHECK_AUTH,\n  LOG_IN,\n  LOG_OUT,\n  UPDATE_USER,\n  SET_CHATROOM,\n  SET_SOCKET,\n  ADD_CHATROOM,\n} from \"../types\";\n\n/* ----   CHECK_AUTH ACTION CREATOR    ---- */\nexport const checkAuth = () => async (dispatch) => {\n  const token = localStorage.getItem(\"jwt-token\");\n  if (!token) {\n    return dispatch({\n      type: \"CHECK_AUTH\",\n      payload: {\n        isLoggedIn: false,\n        token: null,\n      },\n    });\n  }\n\n  const response = await api.get(\"/user-id\", {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  dispatch({\n    type: CHECK_AUTH,\n    payload: {\n      _id: response.data._id,\n      token,\n      isLoggedIn: true,\n      data: response.data,\n    },\n  });\n  // history.push(`/MessagesDisplay/5f52268b6d59e14df8174254`);\n};\n/* ----   ****    ---- */\n\n/* ----   LOG_IN ACTION CREATOR    ---- */\nexport const login = (formValues) => async (dispatch) => {\n  console.log(\"login ran\");\n  const defaultChatroom = \"Buddies\";\n  const response = await api.post(\"/login-user\", { ...formValues });\n\n  if (response.data.error) {\n    const error = response.data.error;\n    alert(`${error.message}`);\n    return;\n  }\n\n  localStorage.setItem(\"jwt-token\", response.data.token);\n\n  dispatch({\n    type: LOG_IN,\n    payload: {\n      _id: response.data.user._id,\n      token: response.data.token,\n      isLoggedIn: true,\n      data: response.data.user,\n    },\n  });\n\n  history.push(`/chats/${defaultChatroom}`);\n};\n/* ----   ****    ---- */\n\n/* ----   LOG_OUT ACTION CREATOR    ---- */\nexport const logout = () => async (dispatch, getState) => {\n  const { token } = getState().auth;\n\n  await api.post(\n    \"/logout\",\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n  await localStorage.removeItem(\"jwt-token\");\n\n  dispatch({\n    type: LOG_OUT,\n  });\n\n  history.push(\"/\");\n};\n/* ----   ****    ---- */\n\n/* ----   SIGN_UP ACTION CREATOR    ---- */\nexport const signup = (formValues) => async (dispatch) => {\n  const defaultChatroom = \"5f52268b6d59e14df8174254\";\n  const response = await api.post(\"/create-user\", { ...formValues });\n  console.log(response);\n  if (response.data.error) {\n    const error = response.data.error;\n    if (error.code === 11000) {\n      alert(\n        `The username \"${error.keyValue.username}\" has already been taken.`\n      );\n    }\n    return;\n  }\n\n  localStorage.setItem(\"jwt-token\", response.data.token);\n\n  dispatch({\n    type: CHECK_AUTH,\n    payload: {\n      _id: response.data.user._id,\n      token: response.data.token,\n      isLoggedIn: true,\n      data: response.data.user,\n    },\n  });\n\n  history.push(`/chats/${defaultChatroom}`);\n};\n/* ----   ****    ---- */\n\n/* ----   UPDATE_USER ACTION CREATOR    ---- */\nexport const updateUser = (formValues) => async (dispatch, getState) => {\n  const { token } = getState().auth;\n  const response = await api.patch(\n    \"./user-update\",\n    { ...formValues },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  if (response.data.error) {\n    const error = response.data.error;\n    if (error.code === 11000) {\n      alert(\n        `The username \"${error.keyValue.username}\" has already been taken.`\n      );\n    }\n    return;\n  }\n\n  dispatch({\n    type: UPDATE_USER,\n    payload: response.data.user,\n  });\n};\n\n/* ----   ****    ---- */\n\n/* ----   DELETE_USER ACTION CREATOR    ---- */\nexport const deleteUser = () => async (dispatch, getState) => {\n  const { token } = getState().auth;\n  const response = await api.post(\n    \"/user-delete\",\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  if (response.data.userDeleted) {\n    await localStorage.removeItem(\"jwt-token\");\n    await dispatch({\n      type: LOG_OUT,\n    });\n    history.push(\"/\");\n  }\n};\n\n/* ----   ****    ---- */\n\n/* ----   SET_CHATROOM ACTION CREATOR    ---- */\nexport const setChatroom = (currentChatroom) => async (dispatch) => {\n  dispatch({\n    type: SET_CHATROOM,\n    payload: { currentChatroom },\n  });\n};\n/* ----   ****    ---- */\n\nexport const setSocket = (socket) => (dispatch) => {\n  dispatch({\n    type: SET_SOCKET,\n    payload: socket,\n  });\n};\n","import React from 'react';\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nconst RenderForm = (props) => {\r\n  const handleForm = formValues => {\r\n    const {initialValues} = props;\r\n\r\n    if (!initialValues) {\r\n      return props.handleForm(formValues);\r\n    }\r\n\r\n    const valuesToValidate = Object.keys(formValues)\r\n    if (valuesToValidate.some(value => formValues[value] === '')) {\r\n      props.reset();\r\n    }\r\n\r\n    let updateValues = {};\r\n    Object.keys(initialValues).forEach((value) => {\r\n       if (initialValues[value] !== formValues[value]) {\r\n         updateValues = { ...updateValues,  [value]: formValues[value] }\r\n       }\r\n    })\r\n    props.handleForm(updateValues);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit(handleForm)} className='form-signin mt-2'>\r\n      {props.children}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({ form: 'userForm' })(RenderForm);","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport { RenderForm } from \"../RenderForm\";\r\n\r\nexport const LoginForm = (props) => {\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className=\"text-white text-left my-2\">{label}</label>\r\n        <input\r\n          className=\"form-control\"\r\n          placeholder={label}\r\n          {...input}\r\n          type={type}\r\n          required\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleForm = (formValues) => {\r\n    props.handleForm(formValues);\r\n  };\r\n\r\n  return (\r\n    <RenderForm handleForm={handleForm}>\r\n      <div className=\"ui stacked element\">\r\n        <Field\r\n          name=\"username\"\r\n          component={renderInput}\r\n          label=\"Username\"\r\n          type=\"text\"\r\n        />\r\n        <Field\r\n          name=\"password\"\r\n          component={renderInput}\r\n          label=\"Password\"\r\n          type=\"password\"\r\n        />\r\n        <button className=\"btn btn-md btn-secondary btn-block my-4 mx-auto w-25\">\r\n          Submit\r\n        </button>\r\n      </div>\r\n      <div className=\"d-flex w-100 justify-content-center text-white\">\r\n        <div className=\"col\">\r\n          <p className=\"m-0 p-0\">Sample User Credentials</p>\r\n          <p className=\"m-0 p-0\">Username: sampleuser</p>\r\n          <p className=\"m-0 p-0\">Password: examplepass000</p>\r\n        </div>\r\n      </div>\r\n    </RenderForm>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport { RenderForm } from \"../RenderForm\";\r\n\r\nexport const SignupForm = (props) => {\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className=\"text-white text-left my-2\">{label}</label>\r\n        <input\r\n          className=\"form-control\"\r\n          type={type}\r\n          placeholder={label}\r\n          {...input}\r\n          required\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleForm = (formValues) => {\r\n    props.handleForm(formValues);\r\n  };\r\n\r\n  return (\r\n    <RenderForm handleForm={handleForm}>\r\n      <Field name=\"name\" component={renderInput} label=\"Name\" type=\"text\" />\r\n      <Field\r\n        name=\"username\"\r\n        component={renderInput}\r\n        label=\"Username\"\r\n        type=\"text\"\r\n      />\r\n      <Field name=\"email\" component={renderInput} label=\"Email\" type=\"email\" />\r\n      <Field\r\n        name=\"password\"\r\n        component={renderInput}\r\n        label=\"Password\"\r\n        type=\"password\"\r\n      />\r\n      <Field\r\n        name=\"passwordConf\"\r\n        component={renderInput}\r\n        label=\"Confirm Password\"\r\n        type=\"password\"\r\n      />\r\n      <button className=\"btn btn-md btn-secondary btn-block mt-4 mx-auto w-50\">\r\n        Submit\r\n      </button>\r\n    </RenderForm>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport classNames from \"classnames\";\nimport { login, signup, setSocket } from \"../../redux/actions/authActions\";\nimport { LoginForm } from \"../LoginForm\";\nimport { SignupForm } from \"../SignupForm\";\nimport \"./landing.css\";\nimport { io } from \"socket.io-client\";\n\nconst Landing = (props) => {\n  const [activeForm, setActiveForm] = useState(\"signup\");\n  const handleSignup = (formValues) => {\n    props.signup(formValues);\n  };\n\n  const handleLogin = async (formValues) => {\n    props.login(formValues);\n    const socket =\n      process.env.NODE_ENV === \"production\"\n        ? io()\n        : io(\"http://localhost:5500\");\n    await setSocket(socket);\n  };\n\n  const updateCurrentForm = () => {\n    if (activeForm === \"signup\") {\n      setActiveForm(\"login\");\n    }\n    if (activeForm === \"login\") {\n      setActiveForm(\"signup\");\n    }\n  };\n\n  const renderForm = () => {\n    return activeForm === \"signup\" ? (\n      <SignupForm handleForm={handleSignup} />\n    ) : (\n      <LoginForm handleForm={handleLogin} />\n    );\n  };\n\n  return (\n    <div className=\"landing__area col\">\n      <div className=\"landing__container container pb-3 px-3 bg-dark\">\n        <div className=\"row mb-2\">\n          <div className=\"col p-0\">\n            <button\n              onClick={() => updateCurrentForm()}\n              className={classNames({\n                \"btn btn-large text-white w-100 p-3\": true,\n                \"btn-outline-dark\": activeForm === \"signup\",\n                \"btn-secondary\": activeForm === \"login\",\n              })}\n              disabled={activeForm === \"signup\"}\n            >\n              Sign Up Here!\n            </button>\n          </div>\n\n          <div className=\"col h-100 p-0\">\n            <button\n              onClick={() => updateCurrentForm()}\n              className={classNames({\n                \"btn btn-large text-white w-100 p-3\": true,\n                \"btn-outline-dark disabled\": activeForm === \"login\",\n                \"btn-secondary\": activeForm === \"signup\",\n              })}\n              disabled={activeForm === \"login\"}\n            >\n              Log In Here!\n            </button>\n          </div>\n        </div>\n        {renderForm()}\n      </div>\n    </div>\n  );\n};\n\nexport default connect(null, { signup, login, setSocket })(Landing);\n","import React from \"react\";\r\nimport { Landing } from \"../components/Landing\";\r\n\r\nexport const Home = () => <Landing />;\r\n","import React from \"react\";\n\nexport const profileIcon = (\n  <svg\n    width=\"1.2em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-person\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"\n    />\n  </svg>\n);\n\nexport const chatsIcon = (\n  <svg\n    width=\"1.2em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-chat-right-text\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"\n    />\n  </svg>\n);\n\nexport const avatarIcon = (\n  <svg\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-person-fill\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"\n    />\n  </svg>\n);\n\nexport const plusIcon = (\n  <svg\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-plus-square\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n    />\n  </svg>\n);\n\nexport const pencilIcon = (\n  <svg\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-pencil\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"\n    />\n  </svg>\n);\n\nexport const threeDotIcon = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"1em\"\n    height=\"1em\"\n    fill=\"currentColor\"\n    className=\"bi bi-three-dots-vertical\"\n    viewBox=\"0 0 16 16\"\n  >\n    <path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n  </svg>\n);\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { profileIcon, chatsIcon } from \"../../icons/icons\";\r\nimport \"./iconButton.css\";\r\n\r\nexport const IconButton = (props) => {\r\n  const renderIcon = () => {\r\n    if (props.icon === \"profile\") {\r\n      return profileIcon;\r\n    }\r\n    if (props.icon === \"chats\") {\r\n      return chatsIcon;\r\n    }\r\n  };\r\n  return (\r\n    <button\r\n      className={classNames(\"nav__icon\", {\r\n        \"icon__button-active\": props.icon === props.activeIcon,\r\n        \"\": props.icon !== props.activeIcon,\r\n      })}\r\n      disabled={props.icon === props.activeIcon}\r\n    >\r\n      {renderIcon()}\r\n    </button>\r\n  );\r\n};\r\n","/* IMPORTS */\r\nimport React from 'react';\r\nimport \"./messageBubble.css\"\r\n/* ------ */\r\n\r\n\r\nexport const MessageBubble = ({ type, messageKey, timestamp, author, message }) => {\r\n  return (\r\n    <li key={messageKey} className={`message message__${type}`}>\r\n      <div className={`message__container message__container-${type}`}>\r\n        <div className={`message__content`}>\r\n          <div className={`message__row message__row-body`}>\r\n            <p className='message__text message__text-author' >\r\n              {author !== \"system\" ? author : null}\r\n            </p>\r\n            <p className={`message__text ${author !== \"system\" ? \"message__text-message\" : \"message__text-system\"}`}>\r\n              {message}\r\n            </p>\r\n          </div>\r\n          <div className={`message__row message__row-footer`}>\r\n            <div className='message__timestamp'>\r\n              {timestamp}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\n\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autoscroll, formatTimestamp } from \"../../utils\";\r\nimport { MessageBubble } from \"../MessageBubble\";\r\nimport \"./messagesDisplay.css\";\r\n\r\nconst MessagesDisplay = ({ messages, auth }) => {\r\n  const messageList = useRef(null);\r\n  useEffect(() => autoscroll(messageList), [messages.length]);\r\n\r\n  const renderMessages = () => {\r\n    const messageKeysArray = Object.keys(messages);\r\n    return messageKeysArray.map((messageKey) => {\r\n      if (messages[messageKey].author === \"system\") {\r\n        return (\r\n          // <span>{messages[messageKey].message}</span>\r\n          <MessageBubble\r\n            key={messageKey}\r\n            type=\"system\"\r\n            author={messages[messageKey].author}\r\n            message={messages[messageKey].message}\r\n          />\r\n        );\r\n      } else {\r\n        const timestamp = formatTimestamp(messages[messageKey].createdAt);\r\n        return (\r\n          <MessageBubble\r\n            key={messageKey}\r\n            type={messages[messageKey].userId !== auth._id ? \"rec\" : \"sent\"}\r\n            timestamp={timestamp}\r\n            author={messages[messageKey].author}\r\n            message={messages[messageKey].message}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatroom__content\">\r\n      <ul\r\n        className=\"message__display message__display-scroll \"\r\n        ref={messageList}\r\n      >\r\n        {messages ? (\r\n          renderMessages()\r\n        ) : (\r\n          <div className=\"text-white\">Send a message!!</div>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(MessagesDisplay);\r\n","export const autoscroll = (messageList) => {\r\n  // new message element\r\n  const newMessage = messageList.current.lastElementChild;\r\n\r\n  if (!newMessage) {return};\r\n\r\n  // get the height of the newMessage\r\n  const newMessageStyles = getComputedStyle(newMessage.lastElementChild);\r\n  const newMessageMargin = parseInt(newMessageStyles.marginBottom);\r\n  const newMessageHeight = messageList.current.offsetHeight + newMessageMargin;\r\n\r\n  // get the visible height\r\n  const visibleHeight = messageList.current.offsetHeight;\r\n\r\n  // get the message container height\r\n  const contentHeight = messageList.current.scrollHeight;\r\n\r\n  // Current scroll location\r\n  const scrollOffset = messageList.current.scrollTop + visibleHeight;\r\n\r\n  if (contentHeight - newMessageHeight <= scrollOffset) {\r\n    // this will set the scroll top position to the maximum scroll top value being the bottom of the page\r\n    messageList.current.scrollTop = messageList.current.scrollHeight;\r\n  }\r\n};","import moment from \"moment\";\r\n\r\nexport const formatTimestamp = (createdAt) => {\r\n  return moment(createdAt).format('h:mm A');\r\n}","/* IMPORTS */\nimport React from \"react\";\nimport \"./messageInput.css\";\n/* ------ */\n\nexport const MessageInput = ({ message, onSubmit, onChange }) => {\n  return (\n    <div className=\"chatroom__message\">\n      <form className=\"new-message__form\" onSubmit={onSubmit}>\n        <div className=\"message-form__row\">\n          <div className=\"message-form__col message-form__col-input\">\n            <input\n              className=\"message-form__input form-control\"\n              placeholder=\"Message...\"\n              type=\"text\"\n              value={message}\n              onChange={onChange}\n            />\n          </div>\n          <div className=\"message-form__col message-form__col-cta\">\n            <button className=\"message-form__cta button\">Send</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n","/* ----   JOIN_CHATROOM ACTION CREATOR    ---- */\nimport { log } from \"../utils/log\";\n\nexport const createChatroomEmitter = (chatroomName, userId, socket) => {\n  log.emit(\"creating chatroom...\");\n  socket.emit(\"create-chatroom\", chatroomName, userId, (ack) => log.ack(ack));\n};\n\nexport const joinChatroomEmitter = (\n  newChatroomName,\n  oldChatroomName,\n  userName,\n  socket\n) => {\n  log.emit(\"joining chatroom...\");\n  socket.emit(\n    \"join-chatroom\",\n    newChatroomName,\n    oldChatroomName,\n    userName,\n    (ack) => log.ack(ack)\n  );\n};\n/* ----   ****    ---- */\n\nexport const rejoinChatroomEmitter = (\n  newChatroomName,\n  oldChatroomName,\n  userName,\n  socket\n) => {\n  log.emit(\"rejoining chatroom...\");\n  socket.emit(\n    \"rejoin-chatroom\",\n    newChatroomName,\n    oldChatroomName,\n    userName,\n    (ack) => log.ack(ack)\n  );\n};\n\nexport const fetchMessagesEmitter = (chatroomName, socket) => {\n  log.emit(\"fetching messages...\");\n  socket.emit(\"fetching-messages\", chatroomName, (ack) => log.ack(ack));\n};\n\n/* ----   RENDER_NEW_MESSAGE ACTION CREATOR    ---- */\nexport const sendMessageEmitter = (messageData, socket) => {\n  log.emit(\"sending new message...\");\n  socket.emit(\"new-message\", { ...messageData }, (ack) => log.ack(ack));\n};\n\n/* ----   LEAVE_CHATROOM ACTION CREATOR    ---- */\nexport const leaveChatroomEmitter = (chatroomId, userName, socket) => {\n  log.emit(\"leaving chatroom...\");\n  socket.emit(\"leave-chatroom\", chatroomId, userName, (ack) => log.ack(ack));\n};\n/* ----   ****    ---- */\n\n/* ----   DELETE_CHATROOM ACTION CREATOR    ---- */\nexport const deleteChatroomEmitter = (chatroomId, userName, socket) => {\n  log.emit(\"deleting chatroom...\");\n  socket.emit(\"delete-chatroom\", chatroomId, userName, (ack) => log.ack(ack));\n};\n/* ----   ****    ---- */\n","/* IMPORTS */\r\nimport React from \"react\";\r\nimport \"./chatroomHeading.css\";\r\n/* ------ */\r\n\r\nexport const ChatroomHeading = ({ chatroomName }) => {\r\n  return (\r\n    <div className=\"chatroom__heading\">\r\n      <h2 className=\"chatroom__title\">{chatroomName}</h2>\r\n    </div>\r\n  );\r\n};\r\n","/* IMPORTS */\nimport React, { useState } from \"react\";\nimport { MessagesDisplay } from \"../MessagesDisplay\";\nimport { MessageInput } from \"../MessageInput\";\nimport { connect } from \"react-redux\";\nimport { sendMessageEmitter } from \"../../socket.io/emitters\";\nimport { ChatroomHeading } from \"../ChatroomHeading\";\nimport \"./chatroomDisplay.css\";\n/* ------ */\n\nconst ChatroomDisplay = ({ chatrooms, auth }) => {\n  const [message, setMessage] = useState(\"\");\n\n  const onChange = (e) => {\n    setMessage(e.target.value);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    sendMessageEmitter(\n      {\n        message,\n        chatroomName: auth.currentChatroom,\n        userId: auth._id,\n        author: auth.data.username,\n      },\n      auth.socket\n    );\n    setMessage(\"\");\n  };\n\n  return (\n    <div className=\"chatroom__display\">\n      <div className=\"chatroom__container\">\n        <ChatroomHeading chatroomName={auth.currentChatroom} />\n        <MessagesDisplay messages={chatrooms[auth.currentChatroom].messages} />\n        <MessageInput\n          message={message}\n          onSubmit={onSubmit}\n          onChange={onChange}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    chatrooms: state.chatrooms,\n  };\n};\n\nexport default connect(mapStateToProps, {})(ChatroomDisplay);\n","import api from \"../../config/api\";\nimport history from \"../../config/history\";\nimport {\n  DISPLAY_CHATROOMS,\n  RENDER_NEW_MESSAGE,\n  RENDER_MESSAGES,\n  ADD_CHATROOM,\n  SET_CHATROOM,\n} from \"../types\";\nimport _ from \"lodash\";\n\n// Create a new chatroom\nexport const createChatroom = (chatroom) => async (dispatch) => {\n  console.log(chatroom);\n  try {\n    dispatch({\n      type: ADD_CHATROOM,\n      payload: { ...chatroom, messages: [] },\n    });\n    history.push(`/chats/${chatroom._id}`);\n  } catch (e) {\n    dispatch({\n      type: \"ERROR\",\n      error: \"Invalid Name\",\n    });\n  }\n};\n\n// Display current chatrooms\nexport const displayChatrooms = () => async (dispatch, getState) => {\n  try {\n    const { data } = await api.get(\"/MessagesDisplay\");\n    const chatrooms = data.chats.map((chat) => {\n      return { ...chat, messages: [] };\n    });\n    dispatch({\n      type: DISPLAY_CHATROOMS,\n      payload: { ...chatrooms },\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\n\n// Close a chatroom\nexport const closeChatroom = (chatroomName) => (dispatch, getState) => {\n  const chatrooms = _.omit(getState().chatrooms, [chatroomName]);\n  dispatch({\n    type: DISPLAY_CHATROOMS,\n    payload: { ...chatrooms },\n  });\n};\n\n// Render historic messages\nexport const renderMessages = (chatroomName, messages) => async (dispatch) => {\n  await dispatch({\n    type: RENDER_MESSAGES,\n    payload: { chatroomName, messages },\n  });\n};\n\n// Render new message\nexport const renderNewMessage = (chatroomName, message) => async (dispatch) => {\n  await dispatch({\n    type: RENDER_NEW_MESSAGE,\n    payload: { chatroomName, message },\n  });\n};\n","import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { io } from \"socket.io-client\";\nimport { ChatroomDisplay } from \"../components/ChatroomDisplay\";\nimport {\n  joinChatroomEmitter,\n  fetchMessagesEmitter,\n} from \"../socket.io/emitters\";\nimport { setChatroom, setSocket } from \"../redux/actions/authActions\";\nimport {\n  createChatroom,\n  renderNewMessage,\n  renderMessages,\n  closeChatroom,\n} from \"../redux/actions/chatActions\";\n\nconst Chat = ({\n  auth,\n  createChatroom,\n  renderNewMessage,\n  renderMessages,\n  closeChatroom,\n  setChatroom,\n  setSocket,\n}) => {\n  useEffect(() => {\n    if (!auth.socket) {\n      const socket =\n        process.env.NODE_ENV === \"production\"\n          ? io()\n          : io(\"http://localhost:5500\");\n      setSocket(socket);\n      return;\n    }\n    auth.socket.on(\"connect\", async () => {\n      await joinChatroomEmitter(\n        auth.currentChatroom,\n        null,\n        auth.data.name,\n        auth.socket\n      );\n    });\n    auth.socket.on(\"chatroom-created\", async (chatroom) => {\n      await createChatroom(chatroom, auth.socket);\n      await setChatroom(chatroom.name);\n    });\n    auth.socket.on(\"fetch-messages\", (chatroomName) => {\n      fetchMessagesEmitter(chatroomName, auth.socket);\n    });\n    auth.socket.on(\"chatroom-left\", async (chatroomName) => {\n      await closeChatroom(chatroomName);\n    });\n    auth.socket.on(\"chatroom-deleted\", async (chatroomName) => {\n      await closeChatroom(chatroomName);\n    });\n    auth.socket.on(\"fetched-messages\", async (chatroomName, messages) => {\n      await renderMessages(chatroomName, messages);\n    });\n    auth.socket.on(\"return-message\", async (chatroomName, message) => {\n      await renderNewMessage(chatroomName, message);\n    });\n    // auth.socket.on(\"system-message\", async (chatroomName, message) => {\n    //   await renderNewMessage(chatroomName, message);\n    // });\n    // auth.socket.on(\"return-system-message\", (chatroomName, message) => {});\n  }, [\n    auth.socket,\n    createChatroom,\n    setSocket,\n    renderMessages,\n    renderNewMessage,\n    closeChatroom,\n  ]);\n\n  return <ChatroomDisplay />;\n};\n\nconst mapsStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapsStateToProps, {\n  createChatroom,\n  renderNewMessage,\n  renderMessages,\n  closeChatroom,\n  setChatroom,\n  setSocket,\n})(Chat);\n","/* IMPORTS */\nimport React, { useState } from \"react\";\nimport { pencilIcon } from \"../../icons/icons\";\nimport Card from \"react-bootstrap/Card\";\nimport { RenderForm } from \"../RenderForm\";\nimport _ from \"lodash\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { Field } from \"redux-form\";\nimport moment from \"moment\";\nimport \"./profileCard.css\";\n/* ------ */\n\nexport const ProfileCard = ({ auth, updateUser, logout, setModalDisplay }) => {\n  const [editing, setEditing] = useState(\"\");\n\n  const handleForm = (formValues) => {\n    updateUser(formValues);\n    setEditing(\"\");\n  };\n\n  const renderError = ({ error, touched }) => {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  };\n\n  const renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\n    return (\n      <div className={`row__content ${className}`}>\n        <div className=\"content__col content__col-label\">\n          <label className=\"profile__label\">{label}</label>\n        </div>\n        <div className=\"content__col content__col-input\">\n          {editing === label ? (\n            <input className=\"profile__input form-control\" {...input} />\n          ) : (\n            <input\n              className=\"profile__input-placeholder form-control-plaintext\"\n              {...input}\n            />\n          )}\n        </div>\n        <div className=\"content__col content__col-cta\">\n          <div onClick={() => setEditing(label)} className=\"profile__cta-edit\">\n            {pencilIcon}\n          </div>\n        </div>\n        {renderError(meta)}\n      </div>\n    );\n  };\n\n  return (\n    <Card className=\"profile__card\">\n      <Card.Img\n        className=\"profile__avatar\"\n        variant=\"top\"\n        src={`data:image/png;base64,${auth.data.avatar}`}\n      />\n      <Card.Body className=\"profile__body\">\n        <RenderForm\n          handleForm={handleForm}\n          initialValues={_.pick(\n            auth.data,\n            \"name\",\n            \"username\",\n            \"email\",\n            \"password\"\n          )}\n        >\n          <ListGroup className=\"profile__content\" variant=\"flush\">\n            <ListGroup.Item className=\"profile__row\">\n              <Field name=\"name\" component={renderInput} label=\"Name:\" />\n            </ListGroup.Item>\n            <ListGroup.Item className=\"profile__row\">\n              <Field\n                name=\"username\"\n                component={renderInput}\n                label=\"Username:\"\n              />\n            </ListGroup.Item>\n            <ListGroup.Item className=\"profile__row\">\n              <Field name=\"email\" component={renderInput} label=\"Email:\" />\n            </ListGroup.Item>\n            <ListGroup.Item className=\"profile__row\">\n              <Field\n                name=\"password\"\n                component={renderInput}\n                label=\"Password:\"\n              />\n            </ListGroup.Item>\n\n            <input type=\"submit\" className=\"profile__submit\" tabIndex=\"-1\" />\n          </ListGroup>\n        </RenderForm>\n      </Card.Body>\n      <Card.Footer className=\"profile__footer\">\n        <ListGroup className=\"profile__row\" variant=\"flush\">\n          <ListGroup.Item className=\"profile__row\">\n            <div className=\"row justify-content-around\">\n              <div className=\"col text-center\">\n                User Since: {moment(auth.data.createdAt).format(\"MMM 'YY\")}\n              </div>\n            </div>\n          </ListGroup.Item>\n          <ListGroup.Item className=\"profile__row\">\n            <button\n              onClick={() => logout()}\n              className=\"profile__cta profile__cta-logout button\"\n            >\n              Log Out\n            </button>\n          </ListGroup.Item>\n          <ListGroup.Item className=\"profile__row\">\n            <button\n              onClick={() => setModalDisplay(true)}\n              className=\"profile__cta profile__cta-delete button\"\n              disabled={auth.data._id === \"5f637fdd0a41ae691c828e50\"}\n            >\n              Delete Account\n            </button>\n          </ListGroup.Item>\n        </ListGroup>\n      </Card.Footer>\n    </Card>\n  );\n};\n","import React from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport ModalFooter from \"react-bootstrap/ModalFooter\";\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\n\r\nexport const ConfirmationModal = ({\r\n  modalConfig,\r\n  setModalDisplay,\r\n  modalDisplay,\r\n  handleDelete,\r\n}) => {\r\n  const handleDeleteClick = () => {\r\n    setModalDisplay(false);\r\n    handleDelete();\r\n  };\r\n\r\n  if (modalDisplay) {\r\n    return (\r\n      <Modal show={modalDisplay} onHide={() => setModalDisplay(false)}>\r\n        <ModalHeader closeButton>\r\n          <ModalTitle>{modalConfig.title}</ModalTitle>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <p>{modalConfig.message}</p>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <button\r\n            onClick={() => setModalDisplay(false)}\r\n            type=\"button\"\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => handleDeleteClick()}\r\n            className={`btn btn-${modalConfig.btnStyle}`}\r\n          >\r\n            {modalConfig.btnText}\r\n          </button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n  return <></>;\r\n};\r\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ProfileCard } from \"../ProfileCard\";\nimport { ConfirmationModal } from \"../ConfirmationModal\";\nimport {\n  logout,\n  updateUser,\n  deleteUser,\n} from \"../../redux/actions/authActions\";\nimport \"./sidebarProfile.css\";\n\nconst SidebarProfile = ({ auth, logout, updateUser, deleteUser }) => {\n  const [modalDisplay, setModalDisplay] = useState(false);\n  const deleteAccountModalConfig = {\n    title: \"Delete Account\",\n    message: \"Are you sure you want to delete your account?\",\n    btnText: \"Delete\",\n    btnStyle: \"danger\",\n  };\n\n  const handleDelete = () => {\n    deleteUser();\n  };\n\n  const profileDisplay = auth.isLoggedIn ? (\n    <ProfileCard\n      auth={auth}\n      updateUser={updateUser}\n      logout={logout}\n      setModalDisplay={setModalDisplay}\n    />\n  ) : (\n    <div className=\"text-white\">Log in to see your profile</div>\n  );\n\n  return (\n    <div className=\"sidebar__profile\">\n      {profileDisplay}\n      <ConfirmationModal\n        modalConfig={deleteAccountModalConfig}\n        setModalDisplay={setModalDisplay}\n        modalDisplay={modalDisplay}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n  };\n};\n\nexport default connect(mapStateToProps, { logout, updateUser, deleteUser })(\n  SidebarProfile\n);\n","import React from \"react\";\nimport { plusIcon } from \"../../icons/icons\";\nimport \"./sidebarForm.css\";\n\nexport const SidebarForm = (props) => {\n  const onChange = (e) => {\n    props.onChange(e);\n  };\n\n  const handleForm = (e) => {\n    props.handleForm(e);\n  };\n\n  const errorStyle =\n    props.newRoomName.length < 5 && props.newRoomName.length !== 0\n      ? \"is-invalid\"\n      : null;\n\n  return (\n    <form className=\"sidebar__form\" onSubmit={handleForm}>\n      <div className=\"sidebar__form_col sidebar__form_col-start\">\n        <input\n          value={props.newRoomName}\n          onChange={onChange}\n          className={`sidebar__form_input form-control ${errorStyle}`}\n          type=\"text\"\n          placeholder={\"Start new chat\"}\n          name=\"chatForm\"\n          required\n        />\n      </div>\n      <div className=\"sidebar__form_col sidebar__form_col-end\">\n        <button type=\"submit\" className=\"sidebar__cta-new\">\n          {plusIcon}\n        </button>\n      </div>\n    </form>\n  );\n};\n","/* IMPORTS */\nimport React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { threeDotIcon } from \"../../icons/icons\";\nimport \"./sidebarContextMenu.css\";\n/* ------ */\n\nexport const SidebarContextMenu = ({\n  handleClose,\n  handleLeave,\n  handleDelete,\n  chatroomId,\n}) => {\n  const CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n    <a\n      className=\"item__cta\"\n      href=\"\"\n      ref={ref}\n      onClick={(e) => {\n        e.preventDefault();\n        onClick(e);\n      }}\n    >\n      {children}\n      {threeDotIcon}\n    </a>\n  ));\n\n  return (\n    <Dropdown>\n      <Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\" />\n      <Dropdown.Menu className=\"dropdown__content\" variant=\"dark\">\n        <Dropdown.Item\n          className=\"dropdown__item\"\n          onClick={() => handleClose(chatroomId)}\n        >\n          Close Chatroom\n        </Dropdown.Item>\n        <Dropdown.Divider className=\"dropdown__divider\" />\n        <Dropdown.Item\n          className=\"dropdown__item\"\n          onClick={() => handleLeave(chatroomId)}\n        >\n          Leave Chatroom\n        </Dropdown.Item>\n        <Dropdown.Divider className=\"dropdown__divider\" />\n        <Dropdown.Item\n          className=\"dropdown__item\"\n          onClick={() => handleDelete(chatroomId)}\n        >\n          Delete Chatroom\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n","/* IMPORTS */\nimport React from \"react\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { Link } from \"react-router-dom\";\nimport { SidebarContextMenu } from \"../SidebarContextMenu\";\nimport { profileIcon } from \"../../icons/icons\";\nimport \"./sidebarChatItem.css\";\n\n/* ------ */\n\nexport const SidebarChatItem = ({\n  chatroom,\n  setChatroom,\n  joinChatroomEmitter,\n  rejoinChatroomEmitter,\n  auth,\n  handleClose,\n  handleLeave,\n  handleDelete,\n}) => {\n  const handleClick = async () => {\n    setChatroom(chatroom.name);\n    if (chatroom.messages.length !== 0) {\n      rejoinChatroomEmitter(\n        chatroom.name,\n        auth.currentChatroom,\n        auth.data.name,\n        auth.socket\n      );\n    } else {\n      joinChatroomEmitter(\n        chatroom.name,\n        auth.currentChatroom,\n        auth.data.name,\n        auth.socket\n      );\n    }\n  };\n  return (\n    <ListGroup.Item className=\"list__item\">\n      <div className=\"item__col\">\n        <Link\n          onClick={() => handleClick()}\n          className=\"item__link\"\n          to={{\n            pathname: `/chats/${chatroom._id}`,\n          }}\n          disabled={chatroom.name === auth.currentChatroom}\n        >\n          <div className=\"link__icon\">{profileIcon}</div>\n          <div className=\"link__name\">\n            <div className=\"link__text\">{chatroom.name}</div>\n          </div>\n        </Link>\n      </div>\n\n      <div className=\"item__col item__col-cta\">\n        <SidebarContextMenu\n          chatroomId={chatroom._id}\n          handleClose={handleClose}\n          handleLeave={handleLeave}\n          handleDelete={handleDelete}\n        />\n      </div>\n    </ListGroup.Item>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { setChatroom } from \"../../redux/actions/authActions\";\nimport {\n  displayChatrooms,\n  closeChatroom,\n} from \"../../redux/actions/chatActions\";\nimport {\n  createChatroomEmitter,\n  joinChatroomEmitter,\n  rejoinChatroomEmitter,\n  leaveChatroomEmitter,\n  deleteChatroomEmitter,\n} from \"../../socket.io/emitters\";\nimport { SidebarForm } from \"../SidebarForm\";\nimport { SidebarChatItem } from \"../SidebarChatItem\";\nimport \"./SidebarChats.css\";\n\nconst SidebarChats = ({\n  auth,\n  chatrooms,\n  displayChatrooms,\n  closeChatroom,\n  setChatroom,\n}) => {\n  const [newRoomName, setNewRoomName] = useState(\"\");\n  const numChats = Object.keys(chatrooms).length;\n  useEffect(() => {\n    if (auth.token) {\n      displayChatrooms();\n    }\n  }, [numChats, auth.token, displayChatrooms, closeChatroom]);\n\n  const onChange = (e) => {\n    setNewRoomName(e.target.value);\n  };\n\n  const handleClose = (chatroomId) => {\n    closeChatroom(chatroomId);\n  };\n  const handleLeave = (chatroomId) => {\n    leaveChatroomEmitter(chatroomId, auth.data.name, auth.socket);\n  };\n  const handleDelete = (chatroomId) => {\n    deleteChatroomEmitter(chatroomId, auth.data.name, auth.socket);\n  };\n\n  const handleForm = async (e) => {\n    e.preventDefault();\n    if (newRoomName.length >= 5) {\n      await createChatroomEmitter(newRoomName, auth._id, auth.socket);\n    }\n    await setNewRoomName(\"\");\n  };\n\n  const renderChatroomList = () => {\n    if (chatrooms === {}) {\n      return;\n    }\n    return Object.keys(chatrooms).map((key) => {\n      return (\n        <SidebarChatItem\n          key={chatrooms[key]._id}\n          auth={auth}\n          chatroom={chatrooms[key]}\n          setChatroom={setChatroom}\n          joinChatroomEmitter={joinChatroomEmitter}\n          rejoinChatroomEmitter={rejoinChatroomEmitter}\n          handleClose={handleClose}\n          handleLeave={handleLeave}\n          handleDelete={handleDelete}\n        />\n      );\n    });\n  };\n\n  const renderChats = () => {\n    return (\n      <ListGroup className=\"chatroom__list\">\n        <ListGroup.Item className=\"list__item list__item-new\">\n          <SidebarForm\n            handleForm={handleForm}\n            onChange={onChange}\n            newRoomName={newRoomName}\n          />\n        </ListGroup.Item>\n        {renderChatroomList()}\n      </ListGroup>\n    );\n  };\n\n  const chatDisplay = auth.isLoggedIn ? (\n    renderChats()\n  ) : (\n    <div className=\"text-white\">Log in to see chatrooms</div>\n  );\n\n  return <div className=\"chatroom__list\">{chatDisplay}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    chatrooms: state.chatrooms,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  displayChatrooms,\n  closeChatroom,\n  setChatroom,\n})(SidebarChats);\n","import React, { useState, useEffect } from \"react\";\r\nimport { SidebarProfile } from \"../SidebarProfile\";\r\nimport { SidebarChats } from \"../SidebarChats\";\r\nimport { mapSidebarIcons } from \"../../utils\";\r\nimport \"./sidebar.css\";\r\nconst Sidebar = ({ auth }) => {\r\n  const [activeIcon, setActiveIcon] = useState(\"chats\");\r\n  const icons = [\"profile\", \"chats\"];\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setActiveIcon(\"chats\");\r\n    };\r\n  }, [auth]);\r\n\r\n  const setCurrentIcon = (e) =>\r\n    e.currentTarget.id === \"profile-cta\"\r\n      ? setActiveIcon(\"profile\")\r\n      : setActiveIcon(\"chats\");\r\n\r\n  const renderSidebarContent =\r\n    activeIcon === \"chats\" ? <SidebarChats /> : <SidebarProfile />;\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <nav className=\"sidebar__nav\">\r\n        <ul className=\"nav__list list-unstyled components\">\r\n          {mapSidebarIcons({ icons, setCurrentIcon, activeIcon })}\r\n        </ul>\r\n      </nav>\r\n      <div className=\"sidebar__content\">\r\n        <div className=\"sidebar__row py-4\">\r\n          <h2 className=\"sidebar__title\">WhatsChat</h2>\r\n        </div>\r\n        <div className=\"sidebar__row\">{renderSidebarContent}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import { IconButton } from \"../components/IconButton\";\r\nimport React from \"react\";\r\n\r\nexport const mapSidebarIcons = ({ icons, setCurrentIcon, activeIcon }) =>\r\n  icons.map((icon) => {\r\n    return (\r\n      <li\r\n        id={`${icon}-cta`}\r\n        key={icon}\r\n        className={`nav__item ${\r\n          activeIcon === icon ? \"nav__item-active\" : \"\"\r\n        } nav-item`}\r\n        onClick={(e) => setCurrentIcon(e)}\r\n      >\r\n        <IconButton icon={icon} activeIcon={activeIcon} />\r\n      </li>\r\n    );\r\n  });\r\n","import React, { useEffect } from \"react\";\nimport { Redirect, Router, Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport history from \"./config/history\";\nimport { checkAuth } from \"./redux/actions/authActions\";\nimport { Home, Chat } from \"./pages\";\nimport { Sidebar } from \"./components/Sidebar\";\nimport { displayChatrooms } from \"./redux/actions/chatActions\";\nimport \"./styles/bootstrap.min.css\";\nimport \"./styles/root.css\";\n\nconst App = ({ auth, checkAuth, displayChatrooms }) => {\n  useEffect(() => {\n    if (!auth.token) {\n      checkAuth();\n      displayChatrooms();\n    }\n  }, [auth.token, checkAuth, displayChatrooms]);\n\n  return (\n    <div className=\"display wrapper\">\n      <Router history={history}>\n        <>\n          <Sidebar auth={auth.isLoggedIn} />\n          <Switch>\n            <Route path=\"/\" exact>\n              {auth.isLoggedIn ? (\n                <Redirect to={`/chats/${auth.currentChatroom}`} />\n              ) : (\n                <Home />\n              )}\n            </Route>\n            <Route path=\"/chats\">\n              {auth.isLoggedIn ? <Chat /> : <Redirect to=\"/\" />}\n            </Route>\n          </Switch>\n        </>\n      </Router>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n  };\n};\n\nexport default connect(mapStateToProps, { checkAuth, displayChatrooms })(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./config/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}