{"version":3,"sources":["history.js","utils/api.js","redux/actions/auth/checkAuthAction.js","React-components/components/RenderForm.jsx","React-components/components/LoginForm.jsx","React-components/components/SignupForm.jsx","React-components/components/ProfileCard.jsx","React-components/lib/ProtectedRoute.jsx","React-components/lib/icons.jsx","React-components/components/IconButton.jsx","React-components/components/Sidebar.jsx","redux/actions/auth/logoutAction.js","redux/actions/user/logoutUserAction.js","React-components/pages/Home.jsx","redux/actions/user/signupUserAction.js","redux/actions/auth/loginAction.js","React-components/pages/Profile.jsx","redux/actions/user/fetchUserAction.js","App.jsx","redux/reducers/authReducer.js","redux/reducers/index.js","redux/reducers/userReducer.js","index.js"],"names":["createBrowserHistory","axios","create","baseURL","checkAuth","dispatch","a","console","log","api","token","localStorage","getItem","type","payload","isLoggedIn","get","headers","response","_id","data","reduxForm","form","props","onSubmit","handleSubmit","formValues","handleForm","className","children","LoginForm","renderInput","input","label","placeholder","Field","name","component","SignupForm","ProfileCard","ProtectedRoute","Component","path","exact","render","auth","to","profileIcon","width","height","viewBox","fill","xmlns","fillRule","d","messageIcon","settingsIcon","IconButton","classNames","icon","activeIcon","style","fontSize","lineHeight","disabled","connect","state","logout","getState","post","removeItem","history","push","logoutUser","useState","setActiveIcon","icons","borderBottom","borderRadius","map","id","key","onClick","e","currentTarget","setCurrentIcon","signup","error","code","alert","keyValue","username","user","login","message","setItem","activeForm","setActiveForm","handleSignup","handleLogin","updateCurrentForm","ownProps","fetchUserData","group","groupEnd","useEffect","Profile","INITIAL_STATE","combineReducers","action","_","omit","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.f28567c7.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: process.env.NODE_ENV !== 'development' ? 'https://dsc-chat-app.herokuapp.com' : 'http://localhost:5500'\r\n})","/* ----   CHECK_AUTH ACTION CREATOR    ---- */\r\nimport api from \"../../../utils/api\";\r\n\r\nexport const checkAuth = () => async dispatch => {\r\n  console.log(api)\r\n  const token = localStorage.getItem('jwt-token');\r\n\r\n  if (!token) {\r\n    console.log('[AUTH]: No Token')\r\n    return dispatch({\r\n      type: 'CHECK_AUTH',\r\n      payload: {\r\n        isLoggedIn: false,\r\n        token: null\r\n      }\r\n    })\r\n  }\r\n\r\n  console.log(`[AUTH-TOKEN]: jwt-token=${token}`)\r\n  const response = await api.get(\r\n    '/user-id',\r\n    {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    }\r\n  )\r\n  dispatch({\r\n     type: 'CHECK_AUTH',\r\n     payload: {\r\n       _id: response.data,\r\n       token,\r\n       isLoggedIn: true\r\n     }\r\n   })\r\n\r\n}\r\n/* ----   ****    ---- */","import React from 'react';\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nconst RenderForm = (props) => {\r\n\r\n  const handleForm = formValues => {\r\n    props.handleForm(formValues);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit(handleForm)} className='form-signin mt-2'>\r\n      {props.children}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({ form: 'homeForm' })(RenderForm);","import React from 'react';\r\nimport { Field, } from \"redux-form\";\r\nimport RenderForm from \"./RenderForm\";\r\n\r\nconst LoginForm = (props) => {\r\n\r\n  const renderInput = ({ input, label }) => {\r\n    return (\r\n      <div>\r\n        <label className='text-white text-left my-2' >{label}</label>\r\n        <input className='form-control' placeholder={label} {...input} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const handleForm = formValues => {\r\n    props.handleForm(formValues);\r\n  }\r\n\r\n  return(\r\n    <RenderForm handleForm={handleForm}>\r\n      <div className='ui stacked element'>\r\n        <Field name='username' component={renderInput} label='Username' />\r\n        <Field name='password' component={renderInput} label='Password' />\r\n        <button className='btn btn-md btn-secondary btn-block my-4 mx-auto w-25'>Submit</button>\r\n      </div>\r\n    </RenderForm>\r\n  )\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport { Field, } from \"redux-form\";\r\nimport RenderForm from \"./RenderForm\";\r\n\r\nconst SignupForm = (props) => {\r\n\r\n  const renderInput = ({ input, label }) => {\r\n    return (\r\n      <div>\r\n        <label className='text-white text-left my-2' >{label}</label>\r\n        <input className='form-control' placeholder={label} {...input} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const handleForm = formValues => {\r\n    props.handleForm(formValues);\r\n  }\r\n\r\n  return(\r\n    <RenderForm handleForm={handleForm}>\r\n      <Field name='name' component={renderInput} label='Name' />\r\n      <Field name='username' component={renderInput} label='Username' />\r\n      <Field name='email' component={renderInput} label='Email' />\r\n      <Field name='password' component={renderInput} label='Password' />\r\n      <Field name='passwordConf' component={renderInput} label='Confirm Password' />\r\n      <button className='btn btn-md btn-secondary btn-block mt-4 mx-auto w-50'>Submit</button>\r\n    </RenderForm>\r\n  )\r\n}\r\n\r\nexport default SignupForm;\r\n","import React from 'react';\r\n\r\nconst ProfileCard = (props) => {\r\n\r\n  return (\r\n    <div>profileCard</div>\r\n  )\r\n\r\n}\r\n\r\nexport default ProfileCard;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, path, ...props }) => {\r\n  return(\r\n    <Route\r\n      exact\r\n      {...props}\r\n      render={() => {\r\n        return props.auth ? <Component /> : <Redirect to='/' />\r\n      }\r\n    } />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;\r\n\r\n","import React from \"react\";\r\n\r\nexport const profileIcon = (\r\n  <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const messageIcon = (\r\n  <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chat-right-text\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const settingsIcon = (\r\n  <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-gear-wide-connected\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M8.932.727c-.243-.97-1.62-.97-1.864 0l-.071.286a.96.96 0 0 1-1.622.434l-.205-.211c-.695-.719-1.888-.03-1.613.931l.08.284a.96.96 0 0 1-1.186 1.187l-.284-.081c-.96-.275-1.65.918-.931 1.613l.211.205a.96.96 0 0 1-.434 1.622l-.286.071c-.97.243-.97 1.62 0 1.864l.286.071a.96.96 0 0 1 .434 1.622l-.211.205c-.719.695-.03 1.888.931 1.613l.284-.08a.96.96 0 0 1 1.187 1.187l-.081.283c-.275.96.918 1.65 1.613.931l.205-.211a.96.96 0 0 1 1.622.434l.071.286c.243.97 1.62.97 1.864 0l.071-.286a.96.96 0 0 1 1.622-.434l.205.211c.695.719 1.888.03 1.613-.931l-.08-.284a.96.96 0 0 1 1.187-1.187l.283.081c.96.275 1.65-.918.931-1.613l-.211-.205a.96.96 0 0 1 .434-1.622l.286-.071c.97-.243.97-1.62 0-1.864l-.286-.071a.96.96 0 0 1-.434-1.622l.211-.205c.719-.695.03-1.888-.931-1.613l-.284.08a.96.96 0 0 1-1.187-1.186l.081-.284c.275-.96-.918-1.65-1.613-.931l-.205.211a.96.96 0 0 1-1.622-.434L8.932.727zM8 12.997a4.998 4.998 0 1 0 0-9.995 4.998 4.998 0 0 0 0 9.996z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M7.375 8L4.602 4.302l.8-.6L8.25 7.5h4.748v1H8.25L5.4 12.298l-.8-.6L7.376 8z\"/>\r\n  </svg>\r\n)","import React from 'react';\r\nimport classNames from \"classnames\";\r\nimport { profileIcon, messageIcon, settingsIcon } from \"../lib\";\r\n\r\nconst IconButton = (props) => {\r\n  const iconStyle = {fontSize: '30px', lineHeight: '30px'}\r\n  const renderIcon = () => {\r\n    if (props.icon === 'profile') {\r\n      return profileIcon;\r\n    }\r\n    if (props.icon === 'messages') {\r\n      return messageIcon;\r\n    }\r\n    if (props.icon === 'settings') {\r\n      return settingsIcon;\r\n    }\r\n  }\r\n  return (\r\n    <button\r\n      className={classNames(\r\n        'btn btn-outline-dark p-0',\r\n        {\r\n          'text-white': props.icon === props.activeIcon,\r\n          'text-secondary': props.icon !== props.activeIcon\r\n        }\r\n      )}\r\n      style={iconStyle}\r\n      disabled={props.icon === props.activeIcon}\r\n    >\r\n      {renderIcon()}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default IconButton;","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../../redux/actions/auth';\r\nimport { logoutUser } from '../../redux/actions/user';\r\nimport IconButton from './IconButton';\r\n\r\n\r\nconst Sidebar = ({ auth, logout, logoutUser }) => {\r\n  const [ activeIcon, setActiveIcon ] = useState('profile')\r\n\r\n  const icons = ['profile', 'messages', 'settings']\r\n\r\n  const setCurrentIcon = (e) => {\r\n    if (e.currentTarget.id === 'profile-cta') {\r\n      setActiveIcon('profile');\r\n    }\r\n    if (e.currentTarget.id === 'messages-cta') {\r\n      setActiveIcon('messages');\r\n    }\r\n    if (e.currentTarget.id === 'settings-cta') {\r\n      setActiveIcon('settings');\r\n    }\r\n  }\r\n\r\n  const renderIcons = () => {\r\n    return icons.map(icon => {\r\n      return (\r\n        <li\r\n          id={`${icon}-cta`}\r\n          key={icon}\r\n          className='nav-item'\r\n          onClick={(e) => setCurrentIcon(e)}\r\n        >\r\n          <IconButton icon={icon} activeIcon={activeIcon} />\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className='d-flex col-2 bg-dark'>\r\n      <nav className='d-flex flex-column min-vh-100 w-100 align-items-around'>\r\n        <div className='row justify-content-center py-4'>\r\n          <h2 className='text-white'>WhatsChat</h2>\r\n        </div>\r\n        <div className='row justify-content-center'>\r\n          <div style={{ width: '80%', borderBottom: '.5px solid white', borderRadius: '75%'}}></div>\r\n        </div>\r\n        <div className='row justify-content-around'>\r\n          <ul className='list-unstyled d-flex flex-row w-100 justify-content-around components py-3 mb-0'>\r\n            {renderIcons()}\r\n          </ul>\r\n        </div>\r\n        <div className='row justify-content-center'>\r\n          <div style={{ width: '80%', borderBottom: '.5px solid white', borderRadius: '75%'}}></div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout, logoutUser})(Sidebar)\r\n","/* ----   LOG_OUT ACTION CREATOR    ---- */\r\nimport api from \"../../../utils/api\";\r\nimport history from \"../../../history\";\r\n\r\nexport const logout = () => async (dispatch, getState) => {\r\n  const { token } = getState().auth\r\n  console.log(token)\r\n  const response = await api.post(\r\n    '/logout',\r\n    {},\r\n    {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    }\r\n  )\r\n  console.log(response.data)\r\n\r\n  dispatch({\r\n     type: 'LOG_OUT',\r\n     payload: {\r\n       _id: null,\r\n       token: null,\r\n       isLoggedIn: false\r\n     }\r\n   })\r\n  localStorage.removeItem('jwt-token');\r\n  history.push('/')\r\n}\r\n/* ----   ****    ---- */","export const logoutUser = () => (dispatch, getState) => {\r\n  const { _id } = getState().auth\r\n  console.log(_id);\r\n  console.log('userlogout ran')\r\n  dispatch({\r\n    type: 'LOGOUT_USER',\r\n    payload: _id\r\n  })\r\n}","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport classNames from 'classnames';\r\n\r\nimport { signup } from \"../../redux/actions/user\";\r\nimport { login } from \"../../redux/actions/auth\";\r\nimport { SignupForm, LoginForm } from \"../components\";\r\n\r\nconst Home = (props) => {\r\n  const [activeForm, setActiveForm] = useState('signup');\r\n\r\n  const handleSignup = (formValues) => {\r\n    props.signup(formValues)\r\n  }\r\n\r\n  const handleLogin = (formValues) => {\r\n    props.login(formValues)\r\n  }\r\n\r\n  const updateCurrentForm = () => {\r\n    if (activeForm === 'signup') {\r\n      setActiveForm('login')\r\n    }\r\n    if (activeForm === 'login') {\r\n      setActiveForm('signup')\r\n    }\r\n  }\r\n\r\n  const renderForm = () => {\r\n    return activeForm === 'signup' ?\r\n      <SignupForm\r\n        handleForm={handleSignup}\r\n      />\r\n      :\r\n      <LoginForm\r\n        handleForm={handleLogin}\r\n      />;\r\n  }\r\n\r\n  return (\r\n    <div className='col d-flex flex-column justify-content-center'>\r\n      <div className='container align-self-center bg-dark w-50 my-auto pb-3 px-3' style={{borderRadius: '5px'}}>\r\n        <div className='row h-100 mb-2'>\r\n          <div className='col p-0'>\r\n              <button\r\n                onClick={() => updateCurrentForm()}\r\n                className={classNames({\r\n                  'btn btn-large text-white w-100 p-3': true,\r\n                  'btn-outline-dark': activeForm === 'signup',\r\n                  'btn-secondary': activeForm === 'login'\r\n                })}\r\n                disabled={activeForm === 'signup'}\r\n              >\r\n                Sign Up Here!\r\n              </button>\r\n            </div>\r\n\r\n          <div className='col h-100 p-0'>\r\n            <button\r\n              onClick={() => updateCurrentForm()}\r\n              className={classNames({\r\n                'btn btn-large text-white w-100 p-3': true,\r\n                'btn-outline-dark disabled': activeForm === 'login',\r\n                'btn-secondary': activeForm === 'signup'\r\n              })}\r\n              disabled={activeForm === 'login'}\r\n            >\r\n              Log In Here!\r\n            </button>\r\n          </div>\r\n        </div>\r\n          {renderForm()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(null, { signup, login })(Home);\r\n\r\n","/* ----   SIGN_UP ACTION CREATOR    ---- */\r\nimport api from \"../../../utils/api\";\r\nimport history from \"../../../history\";\r\n\r\nexport const signup = (formValues) => async dispatch => {\r\n  const response = await api.post(\r\n    '/create-user',\r\n    { ...formValues }\r\n  )\r\n\r\n  if (response.data.error) {\r\n    const error = response.data.error;\r\n    if (error.code === 11000) {\r\n      alert(`The username \"${error.keyValue.username}\" has already been taken.`)\r\n    }\r\n    return\r\n  }\r\n\r\n  dispatch({\r\n     type: 'CHECK_AUTH',\r\n     payload: {\r\n       _id: response.data.user._id,\r\n       token: response.data.user.token,\r\n       isLoggedIn: true\r\n     }\r\n   })\r\n\r\n  history.push(`/profile/${response.data.user._id}`)\r\n}\r\n/* ----   ****    ---- */","/* ----   LOG_IN ACTION CREATOR    ---- */\r\nimport api from \"../../../utils/api\";\r\nimport history from \"../../../history\";\r\n\r\nexport const login = formValues => async dispatch => {\r\n  const response = await api.post(\r\n    '/login-user',\r\n    { ...formValues },\r\n  )\r\n\r\n  if (response.data.error) {\r\n    const error = response.data.error;\r\n    alert(`${error.message}`)\r\n    return;\r\n  }\r\n\r\n  localStorage.setItem('jwt-token', response.data.token);\r\n\r\n  dispatch({\r\n     type: 'LOG_IN',\r\n     payload: {\r\n       _id: response.data.user._id,\r\n       token: response.data.token,\r\n       isLoggedIn: true\r\n     }\r\n   })\r\n\r\n  history.push(`/profile/${response.data.user._id}`);\r\n}\r\n/* ----   ****    ---- */","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ProfileCard } from '../components';\r\nimport { fetchUserData } from '../../redux/actions/user';\r\nimport { checkAuth } from \"../../redux/actions/auth\";\r\n\r\n\r\nconst Profile = (props) => {\r\n  const { user, auth, fetchUserData } = props;\r\n\r\n  useEffect(() => {\r\n    // fetch the user data if there is an auth token\r\n    if (auth.token) {\r\n      fetchUserData()\r\n    }\r\n  }, [auth.token])\r\n\r\n\r\n  // Return if no user is found\r\n  if (!user[auth._id]) {\r\n    return <div>No user found</div>\r\n  }\r\n\r\n  // Display user data\r\n  const renderUserData = () => {\r\n    return Object.keys(user[auth._id])\r\n      .map(key => {\r\n        return (\r\n          <p className='text-left' key={key}><span className='font-weight-bold'>{key}: </span><span>{user[auth._id][key]}</span></p>\r\n        )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=''>\r\n      <ProfileCard user={user} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: state.user,\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchUserData, checkAuth })(Profile);","/* ----   FETCH_USER ACTION CREATOR    ---- */\r\nimport api from \"../../../utils/api\";\r\nimport history from \"../../../history\";\r\n\r\nexport const fetchUserData = () => async (dispatch, getState) => {\r\n  const { token, isLoggedIn, _id } = getState().auth\r\n  const response = await api.get(\r\n    `/user`,\r\n    {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    },\r\n  );\r\n  console.group('[FETCH_USER]')\r\n  console.log('[TOKEN]:',token);\r\n  console.log('[RESPONSE]', response)\r\n  console.groupEnd()\r\n\r\n  dispatch({\r\n     type: 'FETCH_USER',\r\n     payload: { ...response.data.user }\r\n   })\r\n\r\n  if (!isLoggedIn) {\r\n    history.push(`/`)\r\n  }\r\n\r\n  history.push(`/profile/${_id}`)\r\n}\r\n/* ----   ****    ---- */","import React, { useEffect } from 'react';\r\nimport { Redirect, Router, Route, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport history from './history';\r\nimport { checkAuth } from \"./redux/actions/auth\";\r\nimport { Home, Profile } from './React-components/pages';\r\nimport { ProtectedRoute, Sidebar } from './React-components/lib';\r\n\r\n\r\nconst App = props => {\r\n  const { auth, checkAuth } = props;\r\n  useEffect(() => {\r\n    checkAuth()\r\n  }, [checkAuth, auth.isLoggedIn])\r\n\r\n  return (\r\n    <div className='wrapper d-flex align-items-stretch'>\r\n      <Router history={history}>\r\n        <>\r\n          <Sidebar />\r\n          <Switch>\r\n            <Route path='/' exact>\r\n              {auth.isLoggedIn ? <Redirect to={`/profile/${auth._id}`} /> : <Home />}\r\n            </Route>\r\n            <ProtectedRoute path={`/profile/${auth._id}`} auth={auth.isLoggedIn} component={Profile} />\r\n          </Switch>\r\n        </>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { checkAuth })(App);","// Do not modify\r\nconst INITIAL_STATE = {\r\n  isLoggedIn: false,\r\n  _id: null,\r\n  token: null\r\n}\r\n\r\nexport default (state=INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case 'CHECK_AUTH':\r\n      console.log('[CHECK_AUTH]:', action)\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    case 'LOG_IN':\r\n      console.log('[LOG_IN]:', action)\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    case 'LOG_OUT':\r\n      console.log('[LOG_OUT]:', action);\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form';\r\n// import userFormReducer from './userFormReducer';\r\nimport authReducer from './authReducer';\r\nimport userReducer from './userReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  user: userReducer,\r\n  // userState: userFormReducer,\r\n  form: formReducer\r\n});","import _ from 'lodash';\r\n\r\nexport default (state={}, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_USER':\r\n      console.log('[FETCH_USER]', action)\r\n      return {\r\n        ...state,\r\n        [action.payload._id]: action.payload\r\n      };\r\n    case 'UPDATE_USER':\r\n      console.log('[UPDATE_USER]', action)\r\n      return {};\r\n    case 'LOGOUT_USER':\r\n      return _.omit(state, action.payload);\r\n    case 'DELETE_USER':\r\n      console.log('[DELETE_USER]', action)\r\n      return {}\r\n    default:\r\n      return state;\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './App';\r\nimport reducers from './redux/reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);"],"sourceRoot":""}